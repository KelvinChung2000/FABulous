Current pass: well-formed
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external mem_3 = seq_mem_d1(32, 900, 10);
    @external mem_2 = seq_mem_d1(32, 900, 10);
    @external mem_1 = seq_mem_d1(32, 900, 10);
    @external mem_0 = seq_mem_d1(32, 900, 10);
    gemm_instance = gemm();
  }
  wires {}
  control {
    seq {
      seq {
        invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
          in0 = in0,
          in1 = in1
        )();
      }
    }
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    std_slice_3 = std_slice(32, 10);
    std_slice_2 = std_slice(32, 10);
    std_slice_1 = std_slice(32, 10);
    std_slice_0 = std_slice(32, 10);
    std_add_6 = std_add(32);
    std_add_5 = std_add(32);
    std_add_4 = std_add(32);
    std_add_3 = std_add(32);
    load_0_reg = std_reg(32);
    muli_3_reg = std_reg(32);
    std_mult_pipe_3 = std_mult_pipe(32);
    std_add_2 = std_add(32);
    muli_2_reg = std_reg(32);
    std_mult_pipe_2 = std_mult_pipe(32);
    muli_1_reg = std_reg(32);
    std_mult_pipe_1 = std_mult_pipe(32);
    std_add_1 = std_add(32);
    std_add_0 = std_add(32);
    muli_0_reg = std_reg(32);
    std_mult_pipe_0 = std_mult_pipe(32);
    for_2_induction_var_reg = std_reg(32);
    for_1_induction_var_reg = std_reg(32);
    for_0_induction_var_reg = std_reg(32);
    ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group init_for_0_induction_var {
      for_0_induction_var_reg.in = 32'd0;
      for_0_induction_var_reg.write_en = 1'd1;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.in = 32'd0;
      for_1_induction_var_reg.write_en = 1'd1;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.in = 32'd0;
      for_2_induction_var_reg.write_en = 1'd1;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_0 {
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.right = 32'd30;
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = std_mult_pipe_0.done;
      std_mult_pipe_0.go = !std_mult_pipe_0.done ? 1'd1;
      bb0_0[done] = muli_0_reg.done;
    }
    group bb0_3 {
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      arg_mem_0.content_en = 1'd1;
      arg_mem_0.write_en = 1'd0;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_4 {
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.right = arg_mem_0.read_data;
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = std_mult_pipe_1.done;
      std_mult_pipe_1.go = !std_mult_pipe_1.done ? 1'd1;
      bb0_4[done] = muli_1_reg.done;
    }
    group bb0_5 {
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.right = 32'd30;
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = std_mult_pipe_2.done;
      std_mult_pipe_2.go = !std_mult_pipe_2.done ? 1'd1;
      bb0_5[done] = muli_2_reg.done;
    }
    group bb0_7 {
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      arg_mem_1.content_en = 1'd1;
      arg_mem_1.write_en = 1'd0;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_8 {
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.right = arg_mem_1.read_data;
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = std_mult_pipe_3.done;
      std_mult_pipe_3.go = !std_mult_pipe_3.done ? 1'd1;
      bb0_8[done] = muli_3_reg.done;
    }
    group bb0_9 {
      std_slice_1.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_1.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd0;
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = arg_mem_3.done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      bb0_9[done] = load_0_reg.done;
    }
    group bb0_11 {
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      arg_mem_3.write_data = std_add_3.out;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.content_en = 1'd1;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      for_0_induction_var_reg.write_en = 1'd1;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      for_1_induction_var_reg.in = std_add_5.out;
      for_1_induction_var_reg.write_en = 1'd1;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      for_2_induction_var_reg.write_en = 1'd1;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
  }
  control {
    seq {
      par {
        init_for_2_induction_var;
      }
      repeat 20 {
        seq {
          seq {
            bb0_0;
            par {
              init_for_1_induction_var;
            }
            repeat 20 {
              seq {
                par {
                  init_for_0_induction_var;
                }
                repeat 20 {
                  seq {
                    seq {
                      bb0_3;
                      bb0_4;
                      bb0_5;
                      bb0_7;
                      bb0_8;
                      bb0_9;
                      bb0_11;
                    }
                    incr_for_0_induction_var;
                  }
                }
                incr_for_1_induction_var;
              }
            }
          }
          incr_for_2_induction_var;
        }
      }
    }
  }
}
Current pass: canonicalize
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external mem_3 = seq_mem_d1(32, 900, 10);
    @external mem_2 = seq_mem_d1(32, 900, 10);
    @external mem_1 = seq_mem_d1(32, 900, 10);
    @external mem_0 = seq_mem_d1(32, 900, 10);
    gemm_instance = gemm();
  }
  wires {}
  control {
    seq {
      seq {
        invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
          in0 = in0,
          in1 = in1
        )();
      }
    }
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    std_slice_3 = std_slice(32, 10);
    std_slice_2 = std_slice(32, 10);
    std_slice_1 = std_slice(32, 10);
    std_slice_0 = std_slice(32, 10);
    std_add_6 = std_add(32);
    std_add_5 = std_add(32);
    std_add_4 = std_add(32);
    std_add_3 = std_add(32);
    load_0_reg = std_reg(32);
    muli_3_reg = std_reg(32);
    std_mult_pipe_3 = std_mult_pipe(32);
    std_add_2 = std_add(32);
    muli_2_reg = std_reg(32);
    std_mult_pipe_2 = std_mult_pipe(32);
    muli_1_reg = std_reg(32);
    std_mult_pipe_1 = std_mult_pipe(32);
    std_add_1 = std_add(32);
    std_add_0 = std_add(32);
    muli_0_reg = std_reg(32);
    std_mult_pipe_0 = std_mult_pipe(32);
    for_2_induction_var_reg = std_reg(32);
    for_1_induction_var_reg = std_reg(32);
    for_0_induction_var_reg = std_reg(32);
    ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_0 {
      std_mult_pipe_0.go = !std_mult_pipe_0.done ? 1'd1;
      muli_0_reg.write_en = std_mult_pipe_0.done;
      muli_0_reg.in = std_mult_pipe_0.out;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      bb0_0[done] = muli_0_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_4 {
      std_mult_pipe_1.go = !std_mult_pipe_1.done ? 1'd1;
      muli_1_reg.write_en = std_mult_pipe_1.done;
      muli_1_reg.in = std_mult_pipe_1.out;
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      bb0_4[done] = muli_1_reg.done;
    }
    group bb0_5 {
      std_mult_pipe_2.go = !std_mult_pipe_2.done ? 1'd1;
      muli_2_reg.write_en = std_mult_pipe_2.done;
      muli_2_reg.in = std_mult_pipe_2.out;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      bb0_5[done] = muli_2_reg.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_8 {
      std_mult_pipe_3.go = !std_mult_pipe_3.done ? 1'd1;
      muli_3_reg.write_en = std_mult_pipe_3.done;
      muli_3_reg.in = std_mult_pipe_3.out;
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      bb0_8[done] = muli_3_reg.done;
    }
    group bb0_9 {
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      load_0_reg.write_en = arg_mem_3.done;
      load_0_reg.in = arg_mem_3.read_data;
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      std_slice_1.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_1.out;
      bb0_9[done] = load_0_reg.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
  }
  control {
    seq {
      par {
        init_for_2_induction_var;
      }
      repeat 20 {
        seq {
          seq {
            bb0_0;
            par {
              init_for_1_induction_var;
            }
            repeat 20 {
              seq {
                par {
                  init_for_0_induction_var;
                }
                repeat 20 {
                  seq {
                    seq {
                      bb0_3;
                      bb0_4;
                      bb0_5;
                      bb0_7;
                      bb0_8;
                      bb0_9;
                      bb0_11;
                    }
                    incr_for_0_induction_var;
                  }
                }
                incr_for_1_induction_var;
              }
            }
          }
          incr_for_2_induction_var;
        }
      }
    }
  }
}
Current pass: infer-data-path
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    seq {
      seq {
        invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
          in0 = in0,
          in1 = in1
        )();
      }
    }
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_0 {
      std_mult_pipe_0.go = !std_mult_pipe_0.done ? 1'd1;
      muli_0_reg.write_en = std_mult_pipe_0.done;
      muli_0_reg.in = std_mult_pipe_0.out;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      bb0_0[done] = muli_0_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_4 {
      std_mult_pipe_1.go = !std_mult_pipe_1.done ? 1'd1;
      muli_1_reg.write_en = std_mult_pipe_1.done;
      muli_1_reg.in = std_mult_pipe_1.out;
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      bb0_4[done] = muli_1_reg.done;
    }
    group bb0_5 {
      std_mult_pipe_2.go = !std_mult_pipe_2.done ? 1'd1;
      muli_2_reg.write_en = std_mult_pipe_2.done;
      muli_2_reg.in = std_mult_pipe_2.out;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      bb0_5[done] = muli_2_reg.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_8 {
      std_mult_pipe_3.go = !std_mult_pipe_3.done ? 1'd1;
      muli_3_reg.write_en = std_mult_pipe_3.done;
      muli_3_reg.in = std_mult_pipe_3.out;
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      bb0_8[done] = muli_3_reg.done;
    }
    group bb0_9 {
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      load_0_reg.write_en = arg_mem_3.done;
      load_0_reg.in = arg_mem_3.read_data;
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      std_slice_1.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_1.out;
      bb0_9[done] = load_0_reg.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
  }
  control {
    seq {
      par {
        init_for_2_induction_var;
      }
      repeat 20 {
        seq {
          seq {
            bb0_0;
            par {
              init_for_1_induction_var;
            }
            repeat 20 {
              seq {
                par {
                  init_for_0_induction_var;
                }
                repeat 20 {
                  seq {
                    seq {
                      bb0_3;
                      bb0_4;
                      bb0_5;
                      bb0_7;
                      bb0_8;
                      bb0_9;
                      bb0_11;
                    }
                    incr_for_0_induction_var;
                  }
                }
                incr_for_1_induction_var;
              }
            }
          }
          incr_for_2_induction_var;
        }
      }
    }
  }
}
Current pass: collapse-control
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_0 {
      std_mult_pipe_0.go = !std_mult_pipe_0.done ? 1'd1;
      muli_0_reg.write_en = std_mult_pipe_0.done;
      muli_0_reg.in = std_mult_pipe_0.out;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      bb0_0[done] = muli_0_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_4 {
      std_mult_pipe_1.go = !std_mult_pipe_1.done ? 1'd1;
      muli_1_reg.write_en = std_mult_pipe_1.done;
      muli_1_reg.in = std_mult_pipe_1.out;
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      bb0_4[done] = muli_1_reg.done;
    }
    group bb0_5 {
      std_mult_pipe_2.go = !std_mult_pipe_2.done ? 1'd1;
      muli_2_reg.write_en = std_mult_pipe_2.done;
      muli_2_reg.in = std_mult_pipe_2.out;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      bb0_5[done] = muli_2_reg.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_8 {
      std_mult_pipe_3.go = !std_mult_pipe_3.done ? 1'd1;
      muli_3_reg.write_en = std_mult_pipe_3.done;
      muli_3_reg.in = std_mult_pipe_3.out;
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      bb0_8[done] = muli_3_reg.done;
    }
    group bb0_9 {
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      load_0_reg.write_en = arg_mem_3.done;
      load_0_reg.in = arg_mem_3.read_data;
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      std_slice_1.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_1.out;
      bb0_9[done] = load_0_reg.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
  }
  control {
    seq {
      init_for_2_induction_var;
      repeat 20 {
        seq {
          bb0_0;
          init_for_1_induction_var;
          repeat 20 {
            seq {
              init_for_0_induction_var;
              repeat 20 {
                seq {
                  bb0_3;
                  bb0_4;
                  bb0_5;
                  bb0_7;
                  bb0_8;
                  bb0_9;
                  bb0_11;
                  incr_for_0_induction_var;
                }
              }
              incr_for_1_induction_var;
            }
          }
          incr_for_2_induction_var;
        }
      }
    }
  }
}
Current pass: compile-sync-without-sync-reg
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_0 {
      std_mult_pipe_0.go = !std_mult_pipe_0.done ? 1'd1;
      muli_0_reg.write_en = std_mult_pipe_0.done;
      muli_0_reg.in = std_mult_pipe_0.out;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      bb0_0[done] = muli_0_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_4 {
      std_mult_pipe_1.go = !std_mult_pipe_1.done ? 1'd1;
      muli_1_reg.write_en = std_mult_pipe_1.done;
      muli_1_reg.in = std_mult_pipe_1.out;
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      bb0_4[done] = muli_1_reg.done;
    }
    group bb0_5 {
      std_mult_pipe_2.go = !std_mult_pipe_2.done ? 1'd1;
      muli_2_reg.write_en = std_mult_pipe_2.done;
      muli_2_reg.in = std_mult_pipe_2.out;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      bb0_5[done] = muli_2_reg.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_8 {
      std_mult_pipe_3.go = !std_mult_pipe_3.done ? 1'd1;
      muli_3_reg.write_en = std_mult_pipe_3.done;
      muli_3_reg.in = std_mult_pipe_3.out;
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      bb0_8[done] = muli_3_reg.done;
    }
    group bb0_9 {
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      load_0_reg.write_en = arg_mem_3.done;
      load_0_reg.in = arg_mem_3.read_data;
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      std_slice_1.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_1.out;
      bb0_9[done] = load_0_reg.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
  }
  control {
    seq {
      init_for_2_induction_var;
      repeat 20 {
        seq {
          bb0_0;
          init_for_1_induction_var;
          repeat 20 {
            seq {
              init_for_0_induction_var;
              repeat 20 {
                seq {
                  bb0_3;
                  bb0_4;
                  bb0_5;
                  bb0_7;
                  bb0_8;
                  bb0_9;
                  bb0_11;
                  incr_for_0_induction_var;
                }
              }
              incr_for_1_induction_var;
            }
          }
          incr_for_2_induction_var;
        }
      }
    }
  }
}
Current pass: group2seq
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
  }
  control {
    seq {
      init_for_2_induction_var;
      repeat 20 {
        seq {
          seq {
            beg_spl_bb0_0;
            end_spl_bb0_0;
          }
          init_for_1_induction_var;
          repeat 20 {
            seq {
              init_for_0_induction_var;
              repeat 20 {
                seq {
                  bb0_3;
                  seq {
                    beg_spl_bb0_4;
                    end_spl_bb0_4;
                  }
                  seq {
                    beg_spl_bb0_5;
                    end_spl_bb0_5;
                  }
                  bb0_7;
                  seq {
                    beg_spl_bb0_8;
                    end_spl_bb0_8;
                  }
                  seq {
                    beg_spl_bb0_9;
                    end_spl_bb0_9;
                  }
                  bb0_11;
                  incr_for_0_induction_var;
                }
              }
              incr_for_1_induction_var;
            }
          }
          incr_for_2_induction_var;
        }
      }
    }
  }
}
Current pass: dead-assign-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
  }
  control {
    seq {
      init_for_2_induction_var;
      repeat 20 {
        seq {
          seq {
            beg_spl_bb0_0;
            end_spl_bb0_0;
          }
          init_for_1_induction_var;
          repeat 20 {
            seq {
              init_for_0_induction_var;
              repeat 20 {
                seq {
                  bb0_3;
                  seq {
                    beg_spl_bb0_4;
                    end_spl_bb0_4;
                  }
                  seq {
                    beg_spl_bb0_5;
                    end_spl_bb0_5;
                  }
                  bb0_7;
                  seq {
                    beg_spl_bb0_8;
                    end_spl_bb0_8;
                  }
                  seq {
                    beg_spl_bb0_9;
                    end_spl_bb0_9;
                  }
                  bb0_11;
                  incr_for_0_induction_var;
                }
              }
              incr_for_1_induction_var;
            }
          }
          incr_for_2_induction_var;
        }
      }
    }
  }
}
Current pass: group2invoke
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    seq {
      invoke for_2_induction_var_reg(
        in = 32'd0
      )();
      repeat 20 {
        seq {
          seq {
            invoke std_mult_pipe_0(
              right = 32'd30,
              left = for_2_induction_var_reg.out
            )();
            invoke muli_0_reg(
              in = std_mult_pipe_0.out
            )();
          }
          invoke for_1_induction_var_reg(
            in = 32'd0
          )();
          repeat 20 {
            seq {
              invoke for_0_induction_var_reg(
                in = 32'd0
              )();
              repeat 20 {
                seq {
                  bb0_3;
                  seq {
                    invoke std_mult_pipe_1(
                      right = arg_mem_0.read_data,
                      left = in0
                    )();
                    invoke muli_1_reg(
                      in = std_mult_pipe_1.out
                    )();
                  }
                  seq {
                    invoke std_mult_pipe_2(
                      right = 32'd30,
                      left = for_0_induction_var_reg.out
                    )();
                    invoke muli_2_reg(
                      in = std_mult_pipe_2.out
                    )();
                  }
                  bb0_7;
                  seq {
                    invoke std_mult_pipe_3(
                      right = arg_mem_1.read_data,
                      left = muli_1_reg.out
                    )();
                    invoke muli_3_reg(
                      in = std_mult_pipe_3.out
                    )();
                  }
                  seq {
                    beg_spl_bb0_9;
                    invoke load_0_reg(
                      in = arg_mem_3.read_data
                    )();
                  }
                  bb0_11;
                  invoke for_0_induction_var_reg(
                    in = std_add_4.out
                  )() with comb_invoke;
                }
              }
              invoke for_1_induction_var_reg(
                in = std_add_5.out
              )() with comb_invoke0;
            }
          }
          invoke for_2_induction_var_reg(
            in = std_add_6.out
          )() with comb_invoke1;
        }
      }
    }
  }
}
Current pass: infer-share
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    @NODE_ID(0) seq {
      @NODE_ID invoke for_2_induction_var_reg(
        in = 32'd0
      )();
      @NODE_ID(2) repeat 20 {
        @NODE_ID(3) seq {
          @NODE_ID(4) seq {
            @NODE_ID(5) invoke std_mult_pipe_0(
              right = 32'd30,
              left = for_2_induction_var_reg.out
            )();
            @NODE_ID(6) invoke muli_0_reg(
              in = std_mult_pipe_0.out
            )();
          }
          @NODE_ID(7) invoke for_1_induction_var_reg(
            in = 32'd0
          )();
          @NODE_ID(8) repeat 20 {
            @NODE_ID(9) seq {
              @NODE_ID(10) invoke for_0_induction_var_reg(
                in = 32'd0
              )();
              @NODE_ID(11) repeat 20 {
                @NODE_ID(12) seq {
                  @NODE_ID(13) bb0_3;
                  @NODE_ID(14) seq {
                    @NODE_ID(15) invoke std_mult_pipe_1(
                      right = arg_mem_0.read_data,
                      left = in0
                    )();
                    @NODE_ID(16) invoke muli_1_reg(
                      in = std_mult_pipe_1.out
                    )();
                  }
                  @NODE_ID(17) seq {
                    @NODE_ID(18) invoke std_mult_pipe_2(
                      right = 32'd30,
                      left = for_0_induction_var_reg.out
                    )();
                    @NODE_ID(19) invoke muli_2_reg(
                      in = std_mult_pipe_2.out
                    )();
                  }
                  @NODE_ID(20) bb0_7;
                  @NODE_ID(21) seq {
                    @NODE_ID(22) invoke std_mult_pipe_3(
                      right = arg_mem_1.read_data,
                      left = muli_1_reg.out
                    )();
                    @NODE_ID(23) invoke muli_3_reg(
                      in = std_mult_pipe_3.out
                    )();
                  }
                  @NODE_ID(24) seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) invoke load_0_reg(
                      in = arg_mem_3.read_data
                    )();
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke for_0_induction_var_reg(
                    in = std_add_4.out
                  )() with comb_invoke;
                }
              }
              @NODE_ID(29) invoke for_1_induction_var_reg(
                in = std_add_5.out
              )() with comb_invoke0;
            }
          }
          @NODE_ID(30) invoke for_2_induction_var_reg(
            in = std_add_6.out
          )() with comb_invoke1;
        }
      }
    }
  }
}
Current pass: inline
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    @NODE_ID(0) seq {
      @NODE_ID invoke for_2_induction_var_reg(
        in = 32'd0
      )();
      @NODE_ID(2) repeat 20 {
        @NODE_ID(3) seq {
          @NODE_ID(4) seq {
            @NODE_ID(5) invoke std_mult_pipe_0(
              right = 32'd30,
              left = for_2_induction_var_reg.out
            )();
            @NODE_ID(6) invoke muli_0_reg(
              in = std_mult_pipe_0.out
            )();
          }
          @NODE_ID(7) invoke for_1_induction_var_reg(
            in = 32'd0
          )();
          @NODE_ID(8) repeat 20 {
            @NODE_ID(9) seq {
              @NODE_ID(10) invoke for_0_induction_var_reg(
                in = 32'd0
              )();
              @NODE_ID(11) repeat 20 {
                @NODE_ID(12) seq {
                  @NODE_ID(13) bb0_3;
                  @NODE_ID(14) seq {
                    @NODE_ID(15) invoke std_mult_pipe_1(
                      right = arg_mem_0.read_data,
                      left = in0
                    )();
                    @NODE_ID(16) invoke muli_1_reg(
                      in = std_mult_pipe_1.out
                    )();
                  }
                  @NODE_ID(17) seq {
                    @NODE_ID(18) invoke std_mult_pipe_2(
                      right = 32'd30,
                      left = for_0_induction_var_reg.out
                    )();
                    @NODE_ID(19) invoke muli_2_reg(
                      in = std_mult_pipe_2.out
                    )();
                  }
                  @NODE_ID(20) bb0_7;
                  @NODE_ID(21) seq {
                    @NODE_ID(22) invoke std_mult_pipe_3(
                      right = arg_mem_1.read_data,
                      left = muli_1_reg.out
                    )();
                    @NODE_ID(23) invoke muli_3_reg(
                      in = std_mult_pipe_3.out
                    )();
                  }
                  @NODE_ID(24) seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) invoke load_0_reg(
                      in = arg_mem_3.read_data
                    )();
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke for_0_induction_var_reg(
                    in = std_add_4.out
                  )() with comb_invoke;
                }
              }
              @NODE_ID(29) invoke for_1_induction_var_reg(
                in = std_add_5.out
              )() with comb_invoke0;
            }
          }
          @NODE_ID(30) invoke for_2_induction_var_reg(
            in = std_add_6.out
          )() with comb_invoke1;
        }
      }
    }
  }
}
Current pass: comb-prop
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    @NODE_ID(0) seq {
      @NODE_ID invoke for_2_induction_var_reg(
        in = 32'd0
      )();
      @NODE_ID(2) repeat 20 {
        @NODE_ID(3) seq {
          @NODE_ID(4) seq {
            @NODE_ID(5) invoke std_mult_pipe_0(
              right = 32'd30,
              left = for_2_induction_var_reg.out
            )();
            @NODE_ID(6) invoke muli_0_reg(
              in = std_mult_pipe_0.out
            )();
          }
          @NODE_ID(7) invoke for_1_induction_var_reg(
            in = 32'd0
          )();
          @NODE_ID(8) repeat 20 {
            @NODE_ID(9) seq {
              @NODE_ID(10) invoke for_0_induction_var_reg(
                in = 32'd0
              )();
              @NODE_ID(11) repeat 20 {
                @NODE_ID(12) seq {
                  @NODE_ID(13) bb0_3;
                  @NODE_ID(14) seq {
                    @NODE_ID(15) invoke std_mult_pipe_1(
                      right = arg_mem_0.read_data,
                      left = in0
                    )();
                    @NODE_ID(16) invoke muli_1_reg(
                      in = std_mult_pipe_1.out
                    )();
                  }
                  @NODE_ID(17) seq {
                    @NODE_ID(18) invoke std_mult_pipe_2(
                      right = 32'd30,
                      left = for_0_induction_var_reg.out
                    )();
                    @NODE_ID(19) invoke muli_2_reg(
                      in = std_mult_pipe_2.out
                    )();
                  }
                  @NODE_ID(20) bb0_7;
                  @NODE_ID(21) seq {
                    @NODE_ID(22) invoke std_mult_pipe_3(
                      right = arg_mem_1.read_data,
                      left = muli_1_reg.out
                    )();
                    @NODE_ID(23) invoke muli_3_reg(
                      in = std_mult_pipe_3.out
                    )();
                  }
                  @NODE_ID(24) seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) invoke load_0_reg(
                      in = arg_mem_3.read_data
                    )();
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke for_0_induction_var_reg(
                    in = std_add_4.out
                  )() with comb_invoke;
                }
              }
              @NODE_ID(29) invoke for_1_induction_var_reg(
                in = std_add_5.out
              )() with comb_invoke0;
            }
          }
          @NODE_ID(30) invoke for_2_induction_var_reg(
            in = std_add_6.out
          )() with comb_invoke1;
        }
      }
    }
  }
}
Current pass: dead-cell-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    @NODE_ID(0) seq {
      @NODE_ID invoke for_2_induction_var_reg(
        in = 32'd0
      )();
      @NODE_ID(2) repeat 20 {
        @NODE_ID(3) seq {
          @NODE_ID(4) seq {
            @NODE_ID(5) invoke std_mult_pipe_0(
              right = 32'd30,
              left = for_2_induction_var_reg.out
            )();
            @NODE_ID(6) invoke muli_0_reg(
              in = std_mult_pipe_0.out
            )();
          }
          @NODE_ID(7) invoke for_1_induction_var_reg(
            in = 32'd0
          )();
          @NODE_ID(8) repeat 20 {
            @NODE_ID(9) seq {
              @NODE_ID(10) invoke for_0_induction_var_reg(
                in = 32'd0
              )();
              @NODE_ID(11) repeat 20 {
                @NODE_ID(12) seq {
                  @NODE_ID(13) bb0_3;
                  @NODE_ID(14) seq {
                    @NODE_ID(15) invoke std_mult_pipe_1(
                      right = arg_mem_0.read_data,
                      left = in0
                    )();
                    @NODE_ID(16) invoke muli_1_reg(
                      in = std_mult_pipe_1.out
                    )();
                  }
                  @NODE_ID(17) seq {
                    @NODE_ID(18) invoke std_mult_pipe_2(
                      right = 32'd30,
                      left = for_0_induction_var_reg.out
                    )();
                    @NODE_ID(19) invoke muli_2_reg(
                      in = std_mult_pipe_2.out
                    )();
                  }
                  @NODE_ID(20) bb0_7;
                  @NODE_ID(21) seq {
                    @NODE_ID(22) invoke std_mult_pipe_3(
                      right = arg_mem_1.read_data,
                      left = muli_1_reg.out
                    )();
                    @NODE_ID(23) invoke muli_3_reg(
                      in = std_mult_pipe_3.out
                    )();
                  }
                  @NODE_ID(24) seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) invoke load_0_reg(
                      in = arg_mem_3.read_data
                    )();
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke for_0_induction_var_reg(
                    in = std_add_4.out
                  )() with comb_invoke;
                }
              }
              @NODE_ID(29) invoke for_1_induction_var_reg(
                in = std_add_5.out
              )() with comb_invoke0;
            }
          }
          @NODE_ID(30) invoke for_2_induction_var_reg(
            in = std_add_6.out
          )() with comb_invoke1;
        }
      }
    }
  }
}
Current pass: simplify-with-control
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {}
  control {
    invoke gemm_instance[arg_mem_0 = mem_0,arg_mem_1 = mem_1,arg_mem_2 = mem_2,arg_mem_3 = mem_3](
      in0 = in0,
      in1 = in1
    )();
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @data ref arg_mem_3 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_2 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_1 = seq_mem_d1(32, 900, 10);
    @data ref arg_mem_0 = seq_mem_d1(32, 900, 10);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0.read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1.read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3.write_en = 1'd0;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3.done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3.read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0.write_en = 1'd0;
      arg_mem_0.content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0.addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0.done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1.write_en = 1'd0;
      arg_mem_1.content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1.addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1.done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3.content_en = 1'd1;
      arg_mem_3.write_en = 1'd1;
      arg_mem_3.write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3.addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3.done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    static<1> group comb_invoke2 {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      comb_reg.in = std_add_4.out;
      comb_reg.write_en = 1'd1;
    }
    static<1> group comb_invoke00 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      comb_reg0.in = std_add_5.out;
      comb_reg0.write_en = 1'd1;
    }
    static<1> group comb_invoke10 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      comb_reg1.in = std_add_6.out;
      comb_reg1.write_en = 1'd1;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    @NODE_ID(0) seq {
      @NODE_ID invoke for_2_induction_var_reg(
        in = 32'd0
      )();
      @NODE_ID(2) repeat 20 {
        @NODE_ID(3) seq {
          @NODE_ID(4) seq {
            @NODE_ID(5) invoke std_mult_pipe_0(
              right = 32'd30,
              left = for_2_induction_var_reg.out
            )();
            @NODE_ID(6) invoke muli_0_reg(
              in = std_mult_pipe_0.out
            )();
          }
          @NODE_ID(7) invoke for_1_induction_var_reg(
            in = 32'd0
          )();
          @NODE_ID(8) repeat 20 {
            @NODE_ID(9) seq {
              @NODE_ID(10) invoke for_0_induction_var_reg(
                in = 32'd0
              )();
              @NODE_ID(11) repeat 20 {
                @NODE_ID(12) seq {
                  @NODE_ID(13) bb0_3;
                  @NODE_ID(14) seq {
                    @NODE_ID(15) invoke std_mult_pipe_1(
                      right = arg_mem_0.read_data,
                      left = in0
                    )();
                    @NODE_ID(16) invoke muli_1_reg(
                      in = std_mult_pipe_1.out
                    )();
                  }
                  @NODE_ID(17) seq {
                    @NODE_ID(18) invoke std_mult_pipe_2(
                      right = 32'd30,
                      left = for_0_induction_var_reg.out
                    )();
                    @NODE_ID(19) invoke muli_2_reg(
                      in = std_mult_pipe_2.out
                    )();
                  }
                  @NODE_ID(20) bb0_7;
                  @NODE_ID(21) seq {
                    @NODE_ID(22) invoke std_mult_pipe_3(
                      right = arg_mem_1.read_data,
                      left = muli_1_reg.out
                    )();
                    @NODE_ID(23) invoke muli_3_reg(
                      in = std_mult_pipe_3.out
                    )();
                  }
                  @NODE_ID(24) seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) invoke load_0_reg(
                      in = arg_mem_3.read_data
                    )();
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke for_0_induction_var_reg(
                    in = std_add_4.out
                  )() with comb_invoke;
                }
              }
              @NODE_ID(29) invoke for_1_induction_var_reg(
                in = std_add_5.out
              )() with comb_invoke0;
            }
          }
          @NODE_ID(30) invoke for_2_induction_var_reg(
            in = std_add_6.out
          )() with comb_invoke1;
        }
      }
    }
  }
}
Current pass: compile-invoke
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_1_done = mem_1.done;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      invoke0[done] = gemm_instance.done;
      gemm_instance.in0 = in0;
      gemm_instance.in1 = in1;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
  }
  wires {
    group beg_spl_bb0_0 {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0 {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4 {
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4 {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5 {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5 {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8 {
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8 {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3_write_en = 1'd0;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3_done;
    }
    group end_spl_bb0_9 {
      load_0_reg.in = arg_mem_3_read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0_write_en = 1'd0;
      arg_mem_0_content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0_addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1_addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      arg_mem_3_write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3_addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group incr_for_0_induction_var {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group invoke0 {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke0[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = 32'd0;
    }
    group invoke1 {
      std_mult_pipe_0.go = 1'd1;
      invoke1[done] = std_mult_pipe_0.done;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    group invoke2 {
      muli_0_reg.write_en = 1'd1;
      invoke2[done] = muli_0_reg.done;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    group invoke3 {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke3[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = 32'd0;
    }
    group invoke4 {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke4[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = 32'd0;
    }
    group invoke5 {
      std_mult_pipe_1.go = 1'd1;
      invoke5[done] = std_mult_pipe_1.done;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    group invoke6 {
      muli_1_reg.write_en = 1'd1;
      invoke6[done] = muli_1_reg.done;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    group invoke7 {
      std_mult_pipe_2.go = 1'd1;
      invoke7[done] = std_mult_pipe_2.done;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    group invoke8 {
      muli_2_reg.write_en = 1'd1;
      invoke8[done] = muli_2_reg.done;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    group invoke9 {
      std_mult_pipe_3.go = 1'd1;
      invoke9[done] = std_mult_pipe_3.done;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    group invoke10 {
      muli_3_reg.write_en = 1'd1;
      invoke10[done] = muli_3_reg.done;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    group invoke11 {
      load_0_reg.write_en = 1'd1;
      invoke11[done] = load_0_reg.done;
      load_0_reg.in = arg_mem_3_read_data;
    }
    group invoke12 {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    group invoke13 {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = std_add_5.out;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    group invoke14 {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke14[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = std_add_6.out;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
    static<1> group comb_invoke2 {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      comb_reg.in = std_add_4.out;
      comb_reg.write_en = 1'd1;
    }
    static<1> group comb_invoke00 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      comb_reg0.in = std_add_5.out;
      comb_reg0.write_en = 1'd1;
    }
    static<1> group comb_invoke10 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      comb_reg1.in = std_add_6.out;
      comb_reg1.write_en = 1'd1;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    @NODE_ID(0) seq {
      @NODE_ID invoke0;
      @NODE_ID(2) repeat 20 {
        @NODE_ID(3) seq {
          @NODE_ID(4) seq {
            @NODE_ID(5) invoke1;
            @NODE_ID(6) invoke2;
          }
          @NODE_ID(7) invoke3;
          @NODE_ID(8) repeat 20 {
            @NODE_ID(9) seq {
              @NODE_ID(10) invoke4;
              @NODE_ID(11) repeat 20 {
                @NODE_ID(12) seq {
                  @NODE_ID(13) bb0_3;
                  @NODE_ID(14) seq {
                    @NODE_ID(15) invoke5;
                    @NODE_ID(16) invoke6;
                  }
                  @NODE_ID(17) seq {
                    @NODE_ID(18) invoke7;
                    @NODE_ID(19) invoke8;
                  }
                  @NODE_ID(20) bb0_7;
                  @NODE_ID(21) seq {
                    @NODE_ID(22) invoke9;
                    @NODE_ID(23) invoke10;
                  }
                  @NODE_ID(24) seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) invoke11;
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                }
              }
              @NODE_ID(29) invoke13;
            }
          }
          @NODE_ID(30) invoke14;
        }
      }
    }
  }
}
Current pass: static-inference
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_1_done = mem_1.done;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      invoke0[done] = gemm_instance.done;
      gemm_instance.in0 = in0;
      gemm_instance.in1 = in1;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
  }
  wires {
    group beg_spl_bb0_0<"promotable"=3> {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0<"promotable"=1> {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4<"promotable"=3> {
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4<"promotable"=1> {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5<"promotable"=3> {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5<"promotable"=1> {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8<"promotable"=3> {
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8<"promotable"=1> {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3_write_en = 1'd0;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3_done;
    }
    group end_spl_bb0_9<"promotable"=1> {
      load_0_reg.in = arg_mem_3_read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0_write_en = 1'd0;
      arg_mem_0_content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0_addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1_addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      arg_mem_3_write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3_addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group incr_for_0_induction_var<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke0[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = 32'd0;
    }
    group invoke1<"promotable"=3> {
      std_mult_pipe_0.go = 1'd1;
      invoke1[done] = std_mult_pipe_0.done;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    group invoke2<"promotable"=1> {
      muli_0_reg.write_en = 1'd1;
      invoke2[done] = muli_0_reg.done;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    group invoke3<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke3[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = 32'd0;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke4[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = 32'd0;
    }
    group invoke5<"promotable"=3> {
      std_mult_pipe_1.go = 1'd1;
      invoke5[done] = std_mult_pipe_1.done;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    group invoke6<"promotable"=1> {
      muli_1_reg.write_en = 1'd1;
      invoke6[done] = muli_1_reg.done;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    group invoke7<"promotable"=3> {
      std_mult_pipe_2.go = 1'd1;
      invoke7[done] = std_mult_pipe_2.done;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    group invoke8<"promotable"=1> {
      muli_2_reg.write_en = 1'd1;
      invoke8[done] = muli_2_reg.done;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    group invoke9<"promotable"=3> {
      std_mult_pipe_3.go = 1'd1;
      invoke9[done] = std_mult_pipe_3.done;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    group invoke10<"promotable"=1> {
      muli_3_reg.write_en = 1'd1;
      invoke10[done] = muli_3_reg.done;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      invoke11[done] = load_0_reg.done;
      load_0_reg.in = arg_mem_3_read_data;
    }
    group invoke12<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    group invoke13<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = std_add_5.out;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    group invoke14<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke14[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = std_add_6.out;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
    static<1> group comb_invoke2 {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      comb_reg.in = std_add_4.out;
      comb_reg.write_en = 1'd1;
    }
    static<1> group comb_invoke00 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      comb_reg0.in = std_add_5.out;
      comb_reg0.write_en = 1'd1;
    }
    static<1> group comb_invoke10 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      comb_reg1.in = std_add_6.out;
      comb_reg1.write_en = 1'd1;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    @NODE_ID(0) seq {
      @NODE_ID @promotable invoke0;
      @NODE_ID(2) repeat 20 {
        @NODE_ID(3) seq {
          @NODE_ID(4) @promotable(4) seq {
            @NODE_ID(5) @promotable(3) invoke1;
            @NODE_ID(6) @promotable invoke2;
          }
          @NODE_ID(7) @promotable invoke3;
          @NODE_ID(8) repeat 20 {
            @NODE_ID(9) seq {
              @NODE_ID(10) @promotable invoke4;
              @NODE_ID(11) repeat 20 {
                @NODE_ID(12) seq {
                  @NODE_ID(13) bb0_3;
                  @NODE_ID(14) @promotable(4) seq {
                    @NODE_ID(15) @promotable(3) invoke5;
                    @NODE_ID(16) @promotable invoke6;
                  }
                  @NODE_ID(17) @promotable(4) seq {
                    @NODE_ID(18) @promotable(3) invoke7;
                    @NODE_ID(19) @promotable invoke8;
                  }
                  @NODE_ID(20) bb0_7;
                  @NODE_ID(21) @promotable(4) seq {
                    @NODE_ID(22) @promotable(3) invoke9;
                    @NODE_ID(23) @promotable invoke10;
                  }
                  @NODE_ID(24) seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) @promotable invoke11;
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) @promotable invoke12;
                }
              }
              @NODE_ID(29) @promotable invoke13;
            }
          }
          @NODE_ID(30) @promotable invoke14;
        }
      }
    }
  }
}
Current pass: static-promotion
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_1_done = mem_1.done;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      invoke0[done] = gemm_instance.done;
      gemm_instance.in0 = in0;
      gemm_instance.in1 = in1;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
  }
  wires {
    group beg_spl_bb0_0<"promotable"=3> {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0<"promotable"=1> {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4<"promotable"=3> {
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4<"promotable"=1> {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5<"promotable"=3> {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5<"promotable"=1> {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8<"promotable"=3> {
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8<"promotable"=1> {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3_write_en = 1'd0;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3_done;
    }
    group end_spl_bb0_9<"promotable"=1> {
      load_0_reg.in = arg_mem_3_read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0_write_en = 1'd0;
      arg_mem_0_content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0_addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1_addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      arg_mem_3_write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3_addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group incr_for_0_induction_var<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke0[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = 32'd0;
    }
    group invoke1<"promotable"=3> {
      std_mult_pipe_0.go = 1'd1;
      invoke1[done] = std_mult_pipe_0.done;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    group invoke2<"promotable"=1> {
      muli_0_reg.write_en = 1'd1;
      invoke2[done] = muli_0_reg.done;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    group invoke3<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke3[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = 32'd0;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke4[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = 32'd0;
    }
    group invoke5<"promotable"=3> {
      std_mult_pipe_1.go = 1'd1;
      invoke5[done] = std_mult_pipe_1.done;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    group invoke6<"promotable"=1> {
      muli_1_reg.write_en = 1'd1;
      invoke6[done] = muli_1_reg.done;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    group invoke7<"promotable"=3> {
      std_mult_pipe_2.go = 1'd1;
      invoke7[done] = std_mult_pipe_2.done;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    group invoke8<"promotable"=1> {
      muli_2_reg.write_en = 1'd1;
      invoke8[done] = muli_2_reg.done;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    group invoke9<"promotable"=3> {
      std_mult_pipe_3.go = 1'd1;
      invoke9[done] = std_mult_pipe_3.done;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    group invoke10<"promotable"=1> {
      muli_3_reg.write_en = 1'd1;
      invoke10[done] = muli_3_reg.done;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      invoke11[done] = load_0_reg.done;
      load_0_reg.in = arg_mem_3_read_data;
    }
    group invoke12<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    group invoke13<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = std_add_5.out;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    group invoke14<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke14[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = std_add_6.out;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
    static<1> group comb_invoke2 {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      comb_reg.in = std_add_4.out;
      comb_reg.write_en = 1'd1;
    }
    static<1> group comb_invoke00 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      comb_reg0.in = std_add_5.out;
      comb_reg0.write_en = 1'd1;
    }
    static<1> group comb_invoke10 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      comb_reg1.in = std_add_6.out;
      comb_reg1.write_en = 1'd1;
    }
    static<3> group invoke100 {
      std_mult_pipe_0.go = 1'd1;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    static<1> group invoke20 {
      muli_0_reg.write_en = 1'd1;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    static<3> group invoke50 {
      std_mult_pipe_1.go = 1'd1;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    static<1> group invoke60 {
      muli_1_reg.write_en = 1'd1;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    static<3> group invoke70 {
      std_mult_pipe_2.go = 1'd1;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    static<1> group invoke80 {
      muli_2_reg.write_en = 1'd1;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    static<3> group invoke90 {
      std_mult_pipe_3.go = 1'd1;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    static<1> group invoke101 {
      muli_3_reg.write_en = 1'd1;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    static<1> group invoke30 {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      @NODE_ID(2) repeat 20 {
        seq {
          @promoted static<4> par {
            @promotable(4) static<4> seq  {
              @NODE_ID(5) invoke100;
              @NODE_ID(6) invoke20;
            }
            @NODE_ID(7) invoke30;
          }
          @NODE_ID(8) repeat 20 {
            seq {
              @NODE_ID(10) invoke4;
              @NODE_ID(11) repeat 20 {
                seq {
                  @NODE_ID(13) bb0_3;
                  @promoted static<4> par {
                    @promotable(4) static<4> seq  {
                      @NODE_ID(15) invoke50;
                      @NODE_ID(16) invoke60;
                    }
                    @promotable(4) static<4> seq  {
                      @NODE_ID(18) invoke70;
                      @NODE_ID(19) invoke80;
                    }
                  }
                  @NODE_ID(20) bb0_7;
                  static<4> seq  {
                    @NODE_ID(22) invoke90;
                    @NODE_ID(23) invoke101;
                  }
                  seq {
                    @NODE_ID(25) beg_spl_bb0_9;
                    @NODE_ID(26) invoke11;
                  }
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                }
              }
              @NODE_ID(29) invoke13;
            }
          }
          @NODE_ID(30) invoke14;
        }
      }
    }
  }
}
Current pass: compile-repeat
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_1_done = mem_1.done;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      invoke0[done] = gemm_instance.done;
      gemm_instance.in0 = in0;
      gemm_instance.in1 = in1;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_0<"promotable"=3> {
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      beg_spl_bb0_0[done] = std_mult_pipe_0.done;
    }
    group end_spl_bb0_0<"promotable"=1> {
      muli_0_reg.in = std_mult_pipe_0.out;
      muli_0_reg.write_en = 1'd1;
      end_spl_bb0_0[done] = muli_0_reg.done;
    }
    group beg_spl_bb0_4<"promotable"=3> {
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      beg_spl_bb0_4[done] = std_mult_pipe_1.done;
    }
    group end_spl_bb0_4<"promotable"=1> {
      muli_1_reg.in = std_mult_pipe_1.out;
      muli_1_reg.write_en = 1'd1;
      end_spl_bb0_4[done] = muli_1_reg.done;
    }
    group beg_spl_bb0_5<"promotable"=3> {
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      beg_spl_bb0_5[done] = std_mult_pipe_2.done;
    }
    group end_spl_bb0_5<"promotable"=1> {
      muli_2_reg.in = std_mult_pipe_2.out;
      muli_2_reg.write_en = 1'd1;
      end_spl_bb0_5[done] = muli_2_reg.done;
    }
    group beg_spl_bb0_8<"promotable"=3> {
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      beg_spl_bb0_8[done] = std_mult_pipe_3.done;
    }
    group end_spl_bb0_8<"promotable"=1> {
      muli_3_reg.in = std_mult_pipe_3.out;
      muli_3_reg.write_en = 1'd1;
      end_spl_bb0_8[done] = muli_3_reg.done;
    }
    group beg_spl_bb0_9 {
      arg_mem_3_write_en = 1'd0;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3_done;
    }
    group end_spl_bb0_9<"promotable"=1> {
      load_0_reg.in = arg_mem_3_read_data;
      load_0_reg.write_en = 1'd1;
      end_spl_bb0_9[done] = load_0_reg.done;
    }
    group init_for_0_induction_var<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      init_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group init_for_1_induction_var<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
      init_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group init_for_2_induction_var<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      init_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0_write_en = 1'd0;
      arg_mem_0_content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0_addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1_addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      arg_mem_3_write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3_addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group incr_for_0_induction_var<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      for_0_induction_var_reg.in = std_add_4.out;
      incr_for_0_induction_var[done] = for_0_induction_var_reg.done;
    }
    group incr_for_1_induction_var<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      for_1_induction_var_reg.in = std_add_5.out;
      incr_for_1_induction_var[done] = for_1_induction_var_reg.done;
    }
    group incr_for_2_induction_var<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      for_2_induction_var_reg.in = std_add_6.out;
      incr_for_2_induction_var[done] = for_2_induction_var_reg.done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke0[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = 32'd0;
    }
    group invoke1<"promotable"=3> {
      std_mult_pipe_0.go = 1'd1;
      invoke1[done] = std_mult_pipe_0.done;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    group invoke2<"promotable"=1> {
      muli_0_reg.write_en = 1'd1;
      invoke2[done] = muli_0_reg.done;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    group invoke3<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke3[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = 32'd0;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke4[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = 32'd0;
    }
    group invoke5<"promotable"=3> {
      std_mult_pipe_1.go = 1'd1;
      invoke5[done] = std_mult_pipe_1.done;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    group invoke6<"promotable"=1> {
      muli_1_reg.write_en = 1'd1;
      invoke6[done] = muli_1_reg.done;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    group invoke7<"promotable"=3> {
      std_mult_pipe_2.go = 1'd1;
      invoke7[done] = std_mult_pipe_2.done;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    group invoke8<"promotable"=1> {
      muli_2_reg.write_en = 1'd1;
      invoke8[done] = muli_2_reg.done;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    group invoke9<"promotable"=3> {
      std_mult_pipe_3.go = 1'd1;
      invoke9[done] = std_mult_pipe_3.done;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    group invoke10<"promotable"=1> {
      muli_3_reg.write_en = 1'd1;
      invoke10[done] = muli_3_reg.done;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      invoke11[done] = load_0_reg.done;
      load_0_reg.in = arg_mem_3_read_data;
    }
    group invoke12<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    group invoke13<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = std_add_5.out;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    group invoke14<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke14[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = std_add_6.out;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
    group init_repeat<"promotable"=1> {
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group init_repeat0<"promotable"=1> {
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group init_repeat1<"promotable"=1> {
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    static<1> group comb_invoke2 {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
      comb_reg.in = std_add_4.out;
      comb_reg.write_en = 1'd1;
    }
    static<1> group comb_invoke00 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
      comb_reg0.in = std_add_5.out;
      comb_reg0.write_en = 1'd1;
    }
    static<1> group comb_invoke10 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
      comb_reg1.in = std_add_6.out;
      comb_reg1.write_en = 1'd1;
    }
    static<3> group invoke100 {
      std_mult_pipe_0.go = 1'd1;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    static<1> group invoke20 {
      muli_0_reg.write_en = 1'd1;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    static<3> group invoke50 {
      std_mult_pipe_1.go = 1'd1;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    static<1> group invoke60 {
      muli_1_reg.write_en = 1'd1;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    static<3> group invoke70 {
      std_mult_pipe_2.go = 1'd1;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    static<1> group invoke80 {
      muli_2_reg.write_en = 1'd1;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    static<3> group invoke90 {
      std_mult_pipe_3.go = 1'd1;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    static<1> group invoke101 {
      muli_3_reg.write_en = 1'd1;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    static<1> group invoke30 {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
    }
    comb group comb_invoke {
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    comb group comb_invoke0 {
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    comb group comb_invoke1 {
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      @NODE_ID(2) seq {
        init_repeat1;
        while cond_reg1.out {
          seq {
            seq {
              @promoted static<4> par {
                @promotable(4) static<4> seq  {
                  @NODE_ID(5) invoke100;
                  @NODE_ID(6) invoke20;
                }
                @NODE_ID(7) invoke30;
              }
              @NODE_ID(8) seq {
                init_repeat0;
                while cond_reg0.out {
                  seq {
                    seq {
                      @NODE_ID(10) invoke4;
                      @NODE_ID(11) seq {
                        init_repeat;
                        while cond_reg.out {
                          seq {
                            seq {
                              @NODE_ID(13) bb0_3;
                              @promoted static<4> par {
                                @promotable(4) static<4> seq  {
                                  @NODE_ID(15) invoke50;
                                  @NODE_ID(16) invoke60;
                                }
                                @promotable(4) static<4> seq  {
                                  @NODE_ID(18) invoke70;
                                  @NODE_ID(19) invoke80;
                                }
                              }
                              @NODE_ID(20) bb0_7;
                              static<4> seq  {
                                @NODE_ID(22) invoke90;
                                @NODE_ID(23) invoke101;
                              }
                              seq {
                                @NODE_ID(25) beg_spl_bb0_9;
                                @NODE_ID(26) invoke11;
                              }
                              @NODE_ID(27) bb0_11;
                              @NODE_ID(28) invoke12;
                            }
                            incr_repeat;
                          }
                        }
                      }
                      @NODE_ID(29) invoke13;
                    }
                    incr_repeat0;
                  }
                }
              }
              @NODE_ID(30) invoke14;
            }
            incr_repeat1;
          }
        }
      }
    }
  }
}
Current pass: dead-group-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_1_done = mem_1.done;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      invoke0[done] = gemm_instance.done;
      gemm_instance.in0 = in0;
      gemm_instance.in1 = in1;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_write_en = 1'd0;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3_done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0_write_en = 1'd0;
      arg_mem_0_content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0_addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1_addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      arg_mem_3_write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3_addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke0[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = 32'd0;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke4[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = 32'd0;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      invoke11[done] = load_0_reg.done;
      load_0_reg.in = arg_mem_3_read_data;
    }
    group invoke12<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    group invoke13<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = std_add_5.out;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    group invoke14<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke14[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = std_add_6.out;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
    group init_repeat<"promotable"=1> {
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group init_repeat0<"promotable"=1> {
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group init_repeat1<"promotable"=1> {
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    static<3> group invoke100 {
      std_mult_pipe_0.go = 1'd1;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    static<1> group invoke20 {
      muli_0_reg.write_en = 1'd1;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    static<3> group invoke50 {
      std_mult_pipe_1.go = 1'd1;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    static<1> group invoke60 {
      muli_1_reg.write_en = 1'd1;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    static<3> group invoke70 {
      std_mult_pipe_2.go = 1'd1;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    static<1> group invoke80 {
      muli_2_reg.write_en = 1'd1;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    static<3> group invoke90 {
      std_mult_pipe_3.go = 1'd1;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    static<1> group invoke101 {
      muli_3_reg.write_en = 1'd1;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    static<1> group invoke30 {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      @NODE_ID(2) seq {
        init_repeat1;
        while cond_reg1.out {
          seq {
            seq {
              @promoted static<4> par {
                @promotable(4) static<4> seq  {
                  @NODE_ID(5) invoke100;
                  @NODE_ID(6) invoke20;
                }
                @NODE_ID(7) invoke30;
              }
              @NODE_ID(8) seq {
                init_repeat0;
                while cond_reg0.out {
                  seq {
                    seq {
                      @NODE_ID(10) invoke4;
                      @NODE_ID(11) seq {
                        init_repeat;
                        while cond_reg.out {
                          seq {
                            seq {
                              @NODE_ID(13) bb0_3;
                              @promoted static<4> par {
                                @promotable(4) static<4> seq  {
                                  @NODE_ID(15) invoke50;
                                  @NODE_ID(16) invoke60;
                                }
                                @promotable(4) static<4> seq  {
                                  @NODE_ID(18) invoke70;
                                  @NODE_ID(19) invoke80;
                                }
                              }
                              @NODE_ID(20) bb0_7;
                              static<4> seq  {
                                @NODE_ID(22) invoke90;
                                @NODE_ID(23) invoke101;
                              }
                              seq {
                                @NODE_ID(25) beg_spl_bb0_9;
                                @NODE_ID(26) invoke11;
                              }
                              @NODE_ID(27) bb0_11;
                              @NODE_ID(28) invoke12;
                            }
                            incr_repeat;
                          }
                        }
                      }
                      @NODE_ID(29) invoke13;
                    }
                    incr_repeat0;
                  }
                }
              }
              @NODE_ID(30) invoke14;
            }
            incr_repeat1;
          }
        }
      }
    }
  }
}
Current pass: collapse-control
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_1_done = mem_1.done;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      invoke0[done] = gemm_instance.done;
      gemm_instance.in0 = in0;
      gemm_instance.in1 = in1;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_write_en = 1'd0;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3_done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0_write_en = 1'd0;
      arg_mem_0_content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0_addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1_addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      arg_mem_3_write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3_addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke0[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = 32'd0;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke4[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = 32'd0;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      invoke11[done] = load_0_reg.done;
      load_0_reg.in = arg_mem_3_read_data;
    }
    group invoke12<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    group invoke13<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = std_add_5.out;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    group invoke14<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke14[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = std_add_6.out;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
    group init_repeat<"promotable"=1> {
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group init_repeat0<"promotable"=1> {
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group init_repeat1<"promotable"=1> {
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    static<3> group invoke100 {
      std_mult_pipe_0.go = 1'd1;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    static<1> group invoke20 {
      muli_0_reg.write_en = 1'd1;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    static<3> group invoke50 {
      std_mult_pipe_1.go = 1'd1;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    static<1> group invoke60 {
      muli_1_reg.write_en = 1'd1;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    static<3> group invoke70 {
      std_mult_pipe_2.go = 1'd1;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    static<1> group invoke80 {
      muli_2_reg.write_en = 1'd1;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    static<3> group invoke90 {
      std_mult_pipe_3.go = 1'd1;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    static<1> group invoke101 {
      muli_3_reg.write_en = 1'd1;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    static<1> group invoke30 {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          @promoted static<4> par {
            @promotable(4) static<4> seq  {
              @NODE_ID(5) invoke100;
              @NODE_ID(6) invoke20;
            }
            @NODE_ID(7) invoke30;
          }
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  @promoted static<4> par {
                    @promotable(4) static<4> seq  {
                      @NODE_ID(15) invoke50;
                      @NODE_ID(16) invoke60;
                    }
                    @promotable(4) static<4> seq  {
                      @NODE_ID(18) invoke70;
                      @NODE_ID(19) invoke80;
                    }
                  }
                  @NODE_ID(20) bb0_7;
                  static<4> seq  {
                    @NODE_ID(22) invoke90;
                    @NODE_ID(23) invoke101;
                  }
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
Current pass: static-inline
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_1_done = mem_1.done;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      invoke0[done] = gemm_instance.done;
      gemm_instance.in0 = in0;
      gemm_instance.in1 = in1;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_write_en = 1'd0;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_addr0 = std_slice_1.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_slice_1.in = std_add_0.out;
      beg_spl_bb0_9[done] = arg_mem_3_done;
    }
    group bb0_3 {
      std_add_1.right = for_0_induction_var_reg.out;
      std_add_1.left = muli_0_reg.out;
      arg_mem_0_write_en = 1'd0;
      arg_mem_0_content_en = 1'd1;
      std_slice_3.in = std_add_1.out;
      arg_mem_0_addr0 = std_slice_3.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      std_add_2.right = for_1_induction_var_reg.out;
      std_add_2.left = muli_2_reg.out;
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_content_en = 1'd1;
      std_slice_2.in = std_add_2.out;
      arg_mem_1_addr0 = std_slice_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      std_add_3.right = muli_3_reg.out;
      std_add_3.left = load_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_add_0.left = muli_0_reg.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      arg_mem_3_write_data = std_add_3.out;
      std_slice_0.in = std_add_0.out;
      arg_mem_3_addr0 = std_slice_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke0[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = 32'd0;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke4[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = 32'd0;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      invoke11[done] = load_0_reg.done;
      load_0_reg.in = arg_mem_3_read_data;
    }
    group invoke12<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.right = 32'd1;
      std_add_4.left = for_0_induction_var_reg.out;
    }
    group invoke13<"promotable"=1> {
      for_1_induction_var_reg.write_en = 1'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.in = std_add_5.out;
      std_add_5.right = 32'd1;
      std_add_5.left = for_1_induction_var_reg.out;
    }
    group invoke14<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      invoke14[done] = for_2_induction_var_reg.done;
      for_2_induction_var_reg.in = std_add_6.out;
      std_add_6.right = 32'd1;
      std_add_6.left = for_2_induction_var_reg.out;
    }
    group init_repeat<"promotable"=1> {
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
    }
    group init_repeat0<"promotable"=1> {
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group init_repeat1<"promotable"=1> {
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    static<3> group invoke100 {
      std_mult_pipe_0.go = 1'd1;
      std_mult_pipe_0.right = 32'd30;
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
    }
    static<1> group invoke20 {
      muli_0_reg.write_en = 1'd1;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    static<3> group invoke50 {
      std_mult_pipe_1.go = 1'd1;
      std_mult_pipe_1.right = arg_mem_0_read_data;
      std_mult_pipe_1.left = in0;
    }
    static<1> group invoke60 {
      muli_1_reg.write_en = 1'd1;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    static<3> group invoke70 {
      std_mult_pipe_2.go = 1'd1;
      std_mult_pipe_2.right = 32'd30;
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
    }
    static<1> group invoke80 {
      muli_2_reg.write_en = 1'd1;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    static<3> group invoke90 {
      std_mult_pipe_3.go = 1'd1;
      std_mult_pipe_3.right = arg_mem_1_read_data;
      std_mult_pipe_3.left = muli_1_reg.out;
    }
    static<1> group invoke101 {
      muli_3_reg.write_en = 1'd1;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    static<1> group invoke30 {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
    }
    static<4> group static_seq<"promotable"=4> {
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
    }
    static<4> group static_par_thread<"promoted"=1> {
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_seq0<"promotable"=4> {
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
      std_mult_pipe_1.left = %[0:3] ? in0;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
    }
    static<4> group static_seq1<"promotable"=4> {
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
      std_mult_pipe_1.left = %[0:3] ? in0;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
    }
    static<4> group static_seq2 {
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          static_par_thread;
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  static_par_thread0;
                  @NODE_ID(20) bb0_7;
                  static_seq2;
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
Current pass: merge-assigns
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_addr0 = std_slice_1.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd0;
      beg_spl_bb0_9[done] = arg_mem_3_done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_1.in = std_add_0.out;
    }
    group bb0_3 {
      arg_mem_0_content_en = 1'd1;
      arg_mem_0_addr0 = std_slice_3.out;
      arg_mem_0_write_en = 1'd0;
      std_slice_3.in = std_add_1.out;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_addr0 = std_slice_2.out;
      arg_mem_1_content_en = 1'd1;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      std_slice_2.in = std_add_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      arg_mem_3_addr0 = std_slice_0.out;
      arg_mem_3_write_data = std_add_3.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_0.in = std_add_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      invoke0[done] = for_2_induction_var_reg.done;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      invoke4[done] = for_0_induction_var_reg.done;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      load_0_reg.in = arg_mem_3_read_data;
      invoke11[done] = load_0_reg.done;
    }
    group invoke12<"promotable"=1> {
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
    }
    group invoke13<"promotable"=1> {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = std_add_5.out;
    }
    group invoke14<"promotable"=1> {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      invoke14[done] = for_2_induction_var_reg.done;
    }
    group init_repeat<"promotable"=1> {
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
    }
    group init_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
    }
    group init_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
    }
    static<3> group invoke100 {
      std_mult_pipe_0.left = for_2_induction_var_reg.out;
      std_mult_pipe_0.go = 1'd1;
      std_mult_pipe_0.right = 32'd30;
    }
    static<1> group invoke20 {
      muli_0_reg.write_en = 1'd1;
      muli_0_reg.in = std_mult_pipe_0.out;
    }
    static<3> group invoke50 {
      std_mult_pipe_1.left = in0;
      std_mult_pipe_1.go = 1'd1;
      std_mult_pipe_1.right = arg_mem_0_read_data;
    }
    static<1> group invoke60 {
      muli_1_reg.write_en = 1'd1;
      muli_1_reg.in = std_mult_pipe_1.out;
    }
    static<3> group invoke70 {
      std_mult_pipe_2.left = for_0_induction_var_reg.out;
      std_mult_pipe_2.go = 1'd1;
      std_mult_pipe_2.right = 32'd30;
    }
    static<1> group invoke80 {
      muli_2_reg.write_en = 1'd1;
      muli_2_reg.in = std_mult_pipe_2.out;
    }
    static<3> group invoke90 {
      std_mult_pipe_3.left = muli_1_reg.out;
      std_mult_pipe_3.go = 1'd1;
      std_mult_pipe_3.right = arg_mem_1_read_data;
    }
    static<1> group invoke101 {
      muli_3_reg.write_en = 1'd1;
      muli_3_reg.in = std_mult_pipe_3.out;
    }
    static<1> group invoke30 {
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = 32'd0;
    }
    static<4> group static_seq<"promotable"=4> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
    }
    static<4> group static_par_thread<"promoted"=1> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_seq0<"promotable"=4> {
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq1<"promotable"=4> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq2 {
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          static_par_thread;
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  static_par_thread0;
                  @NODE_ID(20) bb0_7;
                  static_seq2;
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
Current pass: dead-group-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_addr0 = std_slice_1.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd0;
      beg_spl_bb0_9[done] = arg_mem_3_done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_1.in = std_add_0.out;
    }
    group bb0_3 {
      arg_mem_0_content_en = 1'd1;
      arg_mem_0_addr0 = std_slice_3.out;
      arg_mem_0_write_en = 1'd0;
      std_slice_3.in = std_add_1.out;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_addr0 = std_slice_2.out;
      arg_mem_1_content_en = 1'd1;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      std_slice_2.in = std_add_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      arg_mem_3_addr0 = std_slice_0.out;
      arg_mem_3_write_data = std_add_3.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_0.in = std_add_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      invoke0[done] = for_2_induction_var_reg.done;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      invoke4[done] = for_0_induction_var_reg.done;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      load_0_reg.in = arg_mem_3_read_data;
      invoke11[done] = load_0_reg.done;
    }
    group invoke12<"promotable"=1> {
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
    }
    group invoke13<"promotable"=1> {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = std_add_5.out;
    }
    group invoke14<"promotable"=1> {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      invoke14[done] = for_2_induction_var_reg.done;
    }
    group init_repeat<"promotable"=1> {
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
    }
    group init_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
    }
    group init_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
    }
    static<4> group static_par_thread<"promoted"=1> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq2 {
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          static_par_thread;
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  static_par_thread0;
                  @NODE_ID(20) bb0_7;
                  static_seq2;
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
Current pass: add-guard
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_addr0 = std_slice_1.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd0;
      beg_spl_bb0_9[done] = arg_mem_3_done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_1.in = std_add_0.out;
    }
    group bb0_3 {
      arg_mem_0_content_en = 1'd1;
      arg_mem_0_addr0 = std_slice_3.out;
      arg_mem_0_write_en = 1'd0;
      std_slice_3.in = std_add_1.out;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_addr0 = std_slice_2.out;
      arg_mem_1_content_en = 1'd1;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      std_slice_2.in = std_add_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      arg_mem_3_addr0 = std_slice_0.out;
      arg_mem_3_write_data = std_add_3.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_0.in = std_add_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      invoke0[done] = for_2_induction_var_reg.done;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      invoke4[done] = for_0_induction_var_reg.done;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      load_0_reg.in = arg_mem_3_read_data;
      invoke11[done] = load_0_reg.done;
    }
    group invoke12<"promotable"=1> {
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
    }
    group invoke13<"promotable"=1> {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = std_add_5.out;
    }
    group invoke14<"promotable"=1> {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      invoke14[done] = for_2_induction_var_reg.done;
    }
    group init_repeat<"promotable"=1> {
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
    }
    group init_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
    }
    group init_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
    }
    static<4> group static_par_thread<"promoted"=1> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq2 {
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          static_par_thread;
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  static_par_thread0;
                  @NODE_ID(20) bb0_7;
                  static_seq2;
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
Current pass: simplify-static-guards
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_addr0 = std_slice_1.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd0;
      beg_spl_bb0_9[done] = arg_mem_3_done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_1.in = std_add_0.out;
    }
    group bb0_3 {
      arg_mem_0_content_en = 1'd1;
      arg_mem_0_addr0 = std_slice_3.out;
      arg_mem_0_write_en = 1'd0;
      std_slice_3.in = std_add_1.out;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_addr0 = std_slice_2.out;
      arg_mem_1_content_en = 1'd1;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      std_slice_2.in = std_add_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      arg_mem_3_addr0 = std_slice_0.out;
      arg_mem_3_write_data = std_add_3.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_0.in = std_add_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      invoke0[done] = for_2_induction_var_reg.done;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      invoke4[done] = for_0_induction_var_reg.done;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      load_0_reg.in = arg_mem_3_read_data;
      invoke11[done] = load_0_reg.done;
    }
    group invoke12<"promotable"=1> {
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
    }
    group invoke13<"promotable"=1> {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = std_add_5.out;
    }
    group invoke14<"promotable"=1> {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      invoke14[done] = for_2_induction_var_reg.done;
    }
    group init_repeat<"promotable"=1> {
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
    }
    group init_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
    }
    group init_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
    }
    static<4> group static_par_thread<"promoted"=1> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq2 {
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          static_par_thread;
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  static_par_thread0;
                  @NODE_ID(20) bb0_7;
                  static_seq2;
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
Current pass: static-fsm-opts
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_addr0 = std_slice_1.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd0;
      beg_spl_bb0_9[done] = arg_mem_3_done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_1.in = std_add_0.out;
    }
    group bb0_3 {
      arg_mem_0_content_en = 1'd1;
      arg_mem_0_addr0 = std_slice_3.out;
      arg_mem_0_write_en = 1'd0;
      std_slice_3.in = std_add_1.out;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_addr0 = std_slice_2.out;
      arg_mem_1_content_en = 1'd1;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      std_slice_2.in = std_add_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      arg_mem_3_addr0 = std_slice_0.out;
      arg_mem_3_write_data = std_add_3.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_0.in = std_add_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      invoke0[done] = for_2_induction_var_reg.done;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      invoke4[done] = for_0_induction_var_reg.done;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      load_0_reg.in = arg_mem_3_read_data;
      invoke11[done] = load_0_reg.done;
    }
    group invoke12<"promotable"=1> {
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
    }
    group invoke13<"promotable"=1> {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = std_add_5.out;
    }
    group invoke14<"promotable"=1> {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      invoke14[done] = for_2_induction_var_reg.done;
    }
    group init_repeat<"promotable"=1> {
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
    }
    group init_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
    }
    group init_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
    }
    static<4> group static_par_thread<"promoted"=1> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq2 {
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          static_par_thread;
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  static_par_thread0;
                  @NODE_ID(20) bb0_7;
                  static_seq2;
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
Current pass: dead-group-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_addr0 = std_slice_1.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd0;
      beg_spl_bb0_9[done] = arg_mem_3_done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_1.in = std_add_0.out;
    }
    group bb0_3 {
      arg_mem_0_content_en = 1'd1;
      arg_mem_0_addr0 = std_slice_3.out;
      arg_mem_0_write_en = 1'd0;
      std_slice_3.in = std_add_1.out;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_addr0 = std_slice_2.out;
      arg_mem_1_content_en = 1'd1;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      std_slice_2.in = std_add_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      arg_mem_3_addr0 = std_slice_0.out;
      arg_mem_3_write_data = std_add_3.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_0.in = std_add_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      invoke0[done] = for_2_induction_var_reg.done;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      invoke4[done] = for_0_induction_var_reg.done;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      load_0_reg.in = arg_mem_3_read_data;
      invoke11[done] = load_0_reg.done;
    }
    group invoke12<"promotable"=1> {
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
    }
    group invoke13<"promotable"=1> {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = std_add_5.out;
    }
    group invoke14<"promotable"=1> {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      invoke14[done] = for_2_induction_var_reg.done;
    }
    group init_repeat<"promotable"=1> {
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
    }
    group init_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
    }
    group init_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
    }
    static<4> group static_par_thread<"promoted"=1> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq2 {
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
    }
  }
  control {
    seq {
      @NODE_ID invoke0;
      init_repeat1;
      while cond_reg1.out {
        seq {
          static_par_thread;
          init_repeat0;
          while cond_reg0.out {
            seq {
              @NODE_ID(10) invoke4;
              init_repeat;
              while cond_reg.out {
                seq {
                  @NODE_ID(13) bb0_3;
                  static_par_thread0;
                  @NODE_ID(20) bb0_7;
                  static_seq2;
                  @NODE_ID(25) beg_spl_bb0_9;
                  @NODE_ID(26) invoke11;
                  @NODE_ID(27) bb0_11;
                  @NODE_ID(28) invoke12;
                  incr_repeat;
                }
              }
              @NODE_ID(29) invoke13;
              incr_repeat0;
            }
          }
          @NODE_ID(30) invoke14;
          incr_repeat1;
        }
      }
    }
  }
}
state: 0 group name: invoke0 guard: true_guard
state: 1 group name: init_repeat1 guard: (cond_reg1.done & idx1.done)
state: 6 group name: init_repeat0 guard: (cond_reg0.done & idx0.done)
state: 7 group name: invoke4 guard: true_guard
state: 8 group name: init_repeat guard: (cond_reg.done & idx.done)
state: 9 group name: bb0_3 guard: true_guard
state: 14 group name: bb0_7 guard: true_guard
state: 19 group name: beg_spl_bb0_9 guard: true_guard
state: 20 group name: invoke11 guard: true_guard
state: 21 group name: bb0_11 guard: true_guard
state: 22 group name: invoke12 guard: true_guard
state: 23 group name: incr_repeat guard: (cond_reg.done & idx.done)
state: 24 group name: invoke13 guard: true_guard
state: 25 group name: incr_repeat0 guard: (cond_reg0.done & idx0.done)
state: 26 group name: invoke14 guard: true_guard
state: 27 group name: incr_repeat1 guard: (cond_reg1.done & idx1.done)
  3: ((cond_reg1.done & idx1.done) & cond_reg1.out)
  29: ((cond_reg1.done & idx1.done) & !cond_reg1.out)
  2: true_guard
  8: ((cond_reg0.done & idx0.done) & cond_reg0.out)
  27: ((cond_reg0.done & idx0.done) & !cond_reg0.out)
  7: true_guard
  10: ((cond_reg.done & idx.done) & cond_reg.out)
  25: ((cond_reg.done & idx.done) & !cond_reg.out)
  9: true_guard
  10: ((cond_reg.done & idx.done) & cond_reg.out)
  25: ((cond_reg.done & idx.done) & !cond_reg.out)
  24: true_guard
  8: ((cond_reg0.done & idx0.done) & cond_reg0.out)
  27: ((cond_reg0.done & idx0.done) & !cond_reg0.out)
  26: true_guard
  3: ((cond_reg1.done & idx1.done) & cond_reg1.out)
  29: ((cond_reg1.done & idx1.done) & !cond_reg1.out)
  28: true_guard
-> 2
((cond_reg1.done & idx1.done) & cond_reg1.out) -> 3, ((cond_reg1.done & idx1.done) & !cond_reg1.out) -> 29, true_guard -> 2
-> 4
-> 5
-> 6
-> 7
((cond_reg0.done & idx0.done) & cond_reg0.out) -> 8, ((cond_reg0.done & idx0.done) & !cond_reg0.out) -> 27, true_guard -> 7
-> 9
((cond_reg.done & idx.done) & cond_reg.out) -> 10, ((cond_reg.done & idx.done) & !cond_reg.out) -> 25, true_guard -> 9
-> 11
-> 12
-> 13
-> 14
-> 15
-> 16
-> 17
-> 18
-> 19
-> 20
-> 21
-> 22
-> 23
-> 24
((cond_reg.done & idx.done) & cond_reg.out) -> 10, ((cond_reg.done & idx.done) & !cond_reg.out) -> 25, true_guard -> 24
-> 26
((cond_reg0.done & idx0.done) & cond_reg0.out) -> 8, ((cond_reg0.done & idx0.done) & !cond_reg0.out) -> 27, true_guard -> 26
-> 28
((cond_reg1.done & idx1.done) & cond_reg1.out) -> 3, ((cond_reg1.done & idx1.done) & !cond_reg1.out) -> 29, true_guard -> 28
Current pass: dfsm
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {
    group beg_spl_bb0_9 {
      arg_mem_3_addr0 = std_slice_1.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd0;
      beg_spl_bb0_9[done] = arg_mem_3_done;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_1.in = std_add_0.out;
    }
    group bb0_3 {
      arg_mem_0_content_en = 1'd1;
      arg_mem_0_addr0 = std_slice_3.out;
      arg_mem_0_write_en = 1'd0;
      std_slice_3.in = std_add_1.out;
      std_add_1.left = muli_0_reg.out;
      std_add_1.right = for_0_induction_var_reg.out;
      bb0_3[done] = arg_mem_0_done;
    }
    group bb0_7 {
      arg_mem_1_write_en = 1'd0;
      arg_mem_1_addr0 = std_slice_2.out;
      arg_mem_1_content_en = 1'd1;
      std_add_2.left = muli_2_reg.out;
      std_add_2.right = for_1_induction_var_reg.out;
      std_slice_2.in = std_add_2.out;
      bb0_7[done] = arg_mem_1_done;
    }
    group bb0_11 {
      arg_mem_3_addr0 = std_slice_0.out;
      arg_mem_3_write_data = std_add_3.out;
      arg_mem_3_content_en = 1'd1;
      arg_mem_3_write_en = 1'd1;
      std_add_3.left = load_0_reg.out;
      std_add_3.right = muli_3_reg.out;
      std_add_0.left = muli_0_reg.out;
      std_add_0.right = for_1_induction_var_reg.out;
      std_slice_0.in = std_add_0.out;
      bb0_11[done] = arg_mem_3_done;
    }
    group invoke0<"promotable"=1> {
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = 32'd0;
      invoke0[done] = for_2_induction_var_reg.done;
    }
    group invoke4<"promotable"=1> {
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = 32'd0;
      invoke4[done] = for_0_induction_var_reg.done;
    }
    group invoke11<"promotable"=1> {
      load_0_reg.write_en = 1'd1;
      load_0_reg.in = arg_mem_3_read_data;
      invoke11[done] = load_0_reg.done;
    }
    group invoke12<"promotable"=1> {
      invoke12[done] = for_0_induction_var_reg.done;
      for_0_induction_var_reg.write_en = 1'd1;
      for_0_induction_var_reg.in = std_add_4.out;
      std_add_4.left = for_0_induction_var_reg.out;
      std_add_4.right = 32'd1;
    }
    group invoke13<"promotable"=1> {
      std_add_5.left = for_1_induction_var_reg.out;
      std_add_5.right = 32'd1;
      invoke13[done] = for_1_induction_var_reg.done;
      for_1_induction_var_reg.write_en = 1'd1;
      for_1_induction_var_reg.in = std_add_5.out;
    }
    group invoke14<"promotable"=1> {
      std_add_6.left = for_2_induction_var_reg.out;
      std_add_6.right = 32'd1;
      for_2_induction_var_reg.write_en = 1'd1;
      for_2_induction_var_reg.in = std_add_6.out;
      invoke14[done] = for_2_induction_var_reg.done;
    }
    group init_repeat<"promotable"=1> {
      init_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = 5'd0;
      cond_reg.write_en = 1'd1;
      cond_reg.in = 1'd1;
    }
    group incr_repeat<"promotable"=1> {
      adder.left = idx.out;
      adder.right = 5'd1;
      incr_repeat[done] = cond_reg.done & idx.done ? 1'd1;
      idx.write_en = 1'd1;
      idx.in = adder.out;
      lt.left = adder.out;
      lt.right = 5'd20;
      cond_reg.write_en = 1'd1;
      cond_reg.in = lt.out;
    }
    group init_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = 5'd0;
      init_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
    }
    group incr_repeat0<"promotable"=1> {
      cond_reg0.write_en = 1'd1;
      cond_reg0.in = lt0.out;
      incr_repeat0[done] = cond_reg0.done & idx0.done ? 1'd1;
      idx0.write_en = 1'd1;
      idx0.in = adder0.out;
      adder0.left = idx0.out;
      adder0.right = 5'd1;
      lt0.left = adder0.out;
      lt0.right = 5'd20;
    }
    group init_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = 5'd0;
      init_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
    }
    group incr_repeat1<"promotable"=1> {
      cond_reg1.write_en = 1'd1;
      cond_reg1.in = lt1.out;
      adder1.left = idx1.out;
      adder1.right = 5'd1;
      incr_repeat1[done] = cond_reg1.done & idx1.done ? 1'd1;
      idx1.write_en = 1'd1;
      idx1.in = adder1.out;
      lt1.left = adder1.out;
      lt1.right = 5'd20;
    }
    static<4> group static_par_thread<"promoted"=1> {
      muli_0_reg.write_en = %3 ? 1'd1;
      muli_0_reg.in = %3 ? std_mult_pipe_0.out;
      std_mult_pipe_0.left = %[0:3] ? for_2_induction_var_reg.out;
      std_mult_pipe_0.go = %[0:3] ? 1'd1;
      std_mult_pipe_0.right = %[0:3] ? 32'd30;
      for_1_induction_var_reg.write_en = %0 ? 1'd1;
      for_1_induction_var_reg.in = %0 ? 32'd0;
    }
    static<4> group static_par_thread0<"promoted"=1> {
      std_mult_pipe_2.left = %[0:3] ? for_0_induction_var_reg.out;
      std_mult_pipe_2.go = %[0:3] ? 1'd1;
      std_mult_pipe_2.right = %[0:3] ? 32'd30;
      muli_1_reg.write_en = %3 ? 1'd1;
      muli_1_reg.in = %3 ? std_mult_pipe_1.out;
      muli_2_reg.write_en = %3 ? 1'd1;
      muli_2_reg.in = %3 ? std_mult_pipe_2.out;
      std_mult_pipe_1.left = %[0:3] ? in0;
      std_mult_pipe_1.go = %[0:3] ? 1'd1;
      std_mult_pipe_1.right = %[0:3] ? arg_mem_0_read_data;
    }
    static<4> group static_seq2 {
      muli_3_reg.write_en = %3 ? 1'd1;
      muli_3_reg.in = %3 ? std_mult_pipe_3.out;
      std_mult_pipe_3.left = %[0:3] ? muli_1_reg.out;
      std_mult_pipe_3.go = %[0:3] ? 1'd1;
      std_mult_pipe_3.right = %[0:3] ? arg_mem_1_read_data;
    }
    fsm fsm {
      0 : {} => {
        fsm[start] -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm[done] = 1'd1;
      } => 0,
    }
  }
  control {
    fsm;
  }
}
Current pass: dead-group-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {    fsm fsm {
      0 : {} => {
        fsm[start] -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm[done] = 1'd1;
      } => 0,
    }
}
  control {
    fsm;
  }
}
Current pass: comb-prop
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {    fsm fsm {
      0 : {} => {
        fsm[start] -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm[done] = 1'd1;
      } => 0,
    }
}
  control {
    fsm;
  }
}
Current pass: dead-assign-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated comb_reg = std_reg(32);
    @generated comb_reg0 = std_reg(32);
    @generated comb_reg1 = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {    fsm fsm {
      0 : {} => {
        fsm[start] -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm[done] = 1'd1;
      } => 0,
    }
}
  control {
    fsm;
  }
}
Current pass: dead-cell-removal
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {    fsm fsm {
      0 : {} => {
        fsm[start] -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm[done] = 1'd1;
      } => 0,
    }
}
  control {
    fsm;
  }
}
Current pass: wrap-main
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = mem_0.read_data;
      gemm_instance.arg_mem_0_done = mem_0.done;
      gemm_instance.arg_mem_3_read_data = mem_3.read_data;
      gemm_instance.in1 = in1;
      gemm_instance.arg_mem_1_read_data = mem_1.read_data;
      gemm_instance.arg_mem_3_done = mem_3.done;
      gemm_instance.go = 1'd1;
      gemm_instance.arg_mem_1_done = mem_1.done;
      gemm_instance.in0 = in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {    fsm fsm {
      0 : {} => {
        fsm[start] -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm[done] = 1'd1;
      } => 0,
    }
}
  control {
    fsm;
  }
}
Current pass: go-insertion
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
  }
  wires {
    group invoke0 {
      mem_1.write_en = invoke0[go] ? gemm_instance.arg_mem_1_write_en;
      mem_1.addr0 = invoke0[go] ? gemm_instance.arg_mem_1_addr0;
      mem_1.content_en = invoke0[go] ? gemm_instance.arg_mem_1_content_en;
      mem_0.write_en = invoke0[go] ? gemm_instance.arg_mem_0_write_en;
      mem_0.addr0 = invoke0[go] ? gemm_instance.arg_mem_0_addr0;
      mem_0.content_en = invoke0[go] ? gemm_instance.arg_mem_0_content_en;
      mem_3.write_en = invoke0[go] ? gemm_instance.arg_mem_3_write_en;
      mem_3.addr0 = invoke0[go] ? gemm_instance.arg_mem_3_addr0;
      mem_3.content_en = invoke0[go] ? gemm_instance.arg_mem_3_content_en;
      mem_3.write_data = invoke0[go] ? gemm_instance.arg_mem_3_write_data;
      gemm_instance.arg_mem_0_read_data = invoke0[go] ? mem_0.read_data;
      gemm_instance.arg_mem_0_done = invoke0[go] ? mem_0.done;
      gemm_instance.arg_mem_3_read_data = invoke0[go] ? mem_3.read_data;
      gemm_instance.in1 = invoke0[go] ? in1;
      gemm_instance.arg_mem_1_read_data = invoke0[go] ? mem_1.read_data;
      gemm_instance.arg_mem_3_done = invoke0[go] ? mem_3.done;
      gemm_instance.go = invoke0[go] ? 1'd1;
      gemm_instance.arg_mem_1_done = invoke0[go] ? mem_1.done;
      gemm_instance.in0 = invoke0[go] ? in0;
      invoke0[done] = gemm_instance.done;
    }
  }
  control {
    invoke0;
  }
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
  }
  wires {    fsm fsm {
      0 : {} => {
        fsm[start] -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm[done] = 1'd1;
      } => 0,
    }
}
  control {
    fsm;
  }
}
Current pass: wire-inliner
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
    @generated invoke0_go = std_wire(1);
    @generated invoke0_done = std_wire(1);
  }
  wires {
    invoke0_go.in = go;
    done = invoke0_done.out ? 1'd1;
    mem_1.write_en = invoke0_go.out ? gemm_instance.arg_mem_1_write_en;
    mem_1.addr0 = invoke0_go.out ? gemm_instance.arg_mem_1_addr0;
    mem_1.content_en = invoke0_go.out ? gemm_instance.arg_mem_1_content_en;
    mem_0.write_en = invoke0_go.out ? gemm_instance.arg_mem_0_write_en;
    mem_0.addr0 = invoke0_go.out ? gemm_instance.arg_mem_0_addr0;
    mem_0.content_en = invoke0_go.out ? gemm_instance.arg_mem_0_content_en;
    mem_3.write_en = invoke0_go.out ? gemm_instance.arg_mem_3_write_en;
    mem_3.addr0 = invoke0_go.out ? gemm_instance.arg_mem_3_addr0;
    mem_3.content_en = invoke0_go.out ? gemm_instance.arg_mem_3_content_en;
    mem_3.write_data = invoke0_go.out ? gemm_instance.arg_mem_3_write_data;
    gemm_instance.arg_mem_0_read_data = invoke0_go.out ? mem_0.read_data;
    gemm_instance.arg_mem_0_done = invoke0_go.out ? mem_0.done;
    gemm_instance.arg_mem_3_read_data = invoke0_go.out ? mem_3.read_data;
    gemm_instance.in1 = invoke0_go.out ? in1;
    gemm_instance.arg_mem_1_read_data = invoke0_go.out ? mem_1.read_data;
    gemm_instance.arg_mem_3_done = invoke0_go.out ? mem_3.done;
    gemm_instance.go = invoke0_go.out ? 1'd1;
    gemm_instance.arg_mem_1_done = invoke0_go.out ? mem_1.done;
    gemm_instance.in0 = invoke0_go.out ? in0;
    invoke0_done.in = gemm_instance.done;
  }
  control {}
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
    @generated fsm_start = std_wire(1);
    @generated fsm_done = std_wire(1);
  }
  wires {
    fsm fsm {
      0 : {} => {
        fsm_start.out -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm_done.in = 1'd1;
      } => 0,
    }
    fsm_start.in = go;
    done = fsm_done.out ? 1'd1;
  }
  control {}
}
Current pass: clk-insertion
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
    @generated invoke0_go = std_wire(1);
    @generated invoke0_done = std_wire(1);
  }
  wires {
    invoke0_go.in = go;
    done = invoke0_done.out ? 1'd1;
    mem_1.write_en = invoke0_go.out ? gemm_instance.arg_mem_1_write_en;
    mem_1.addr0 = invoke0_go.out ? gemm_instance.arg_mem_1_addr0;
    mem_1.content_en = invoke0_go.out ? gemm_instance.arg_mem_1_content_en;
    mem_0.write_en = invoke0_go.out ? gemm_instance.arg_mem_0_write_en;
    mem_0.addr0 = invoke0_go.out ? gemm_instance.arg_mem_0_addr0;
    mem_0.content_en = invoke0_go.out ? gemm_instance.arg_mem_0_content_en;
    mem_3.write_en = invoke0_go.out ? gemm_instance.arg_mem_3_write_en;
    mem_3.addr0 = invoke0_go.out ? gemm_instance.arg_mem_3_addr0;
    mem_3.content_en = invoke0_go.out ? gemm_instance.arg_mem_3_content_en;
    mem_3.write_data = invoke0_go.out ? gemm_instance.arg_mem_3_write_data;
    gemm_instance.arg_mem_0_read_data = invoke0_go.out ? mem_0.read_data;
    gemm_instance.arg_mem_0_done = invoke0_go.out ? mem_0.done;
    gemm_instance.arg_mem_3_read_data = invoke0_go.out ? mem_3.read_data;
    gemm_instance.in1 = invoke0_go.out ? in1;
    gemm_instance.arg_mem_1_read_data = invoke0_go.out ? mem_1.read_data;
    gemm_instance.arg_mem_3_done = invoke0_go.out ? mem_3.done;
    gemm_instance.go = invoke0_go.out ? 1'd1;
    gemm_instance.arg_mem_1_done = invoke0_go.out ? mem_1.done;
    gemm_instance.in0 = invoke0_go.out ? in0;
    invoke0_done.in = gemm_instance.done;
    mem_3.clk = clk;
    mem_2.clk = clk;
    mem_1.clk = clk;
    mem_0.clk = clk;
    gemm_instance.clk = clk;
  }
  control {}
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
    @generated fsm_start = std_wire(1);
    @generated fsm_done = std_wire(1);
  }
  wires {
    fsm fsm {
      0 : {} => {
        fsm_start.out -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm_done.in = 1'd1;
      } => 0,
    }
    fsm_start.in = go;
    done = fsm_done.out ? 1'd1;
    load_0_reg.clk = clk;
    muli_3_reg.clk = clk;
    std_mult_pipe_3.clk = clk;
    muli_2_reg.clk = clk;
    std_mult_pipe_2.clk = clk;
    muli_1_reg.clk = clk;
    std_mult_pipe_1.clk = clk;
    muli_0_reg.clk = clk;
    std_mult_pipe_0.clk = clk;
    for_2_induction_var_reg.clk = clk;
    for_1_induction_var_reg.clk = clk;
    for_0_induction_var_reg.clk = clk;
    idx.clk = clk;
    cond_reg.clk = clk;
    idx0.clk = clk;
    cond_reg0.clk = clk;
    idx1.clk = clk;
    cond_reg1.clk = clk;
  }
  control {}
}
Current pass: reset-insertion
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
    @generated invoke0_go = std_wire(1);
    @generated invoke0_done = std_wire(1);
  }
  wires {
    invoke0_go.in = go;
    done = invoke0_done.out ? 1'd1;
    mem_1.write_en = invoke0_go.out ? gemm_instance.arg_mem_1_write_en;
    mem_1.addr0 = invoke0_go.out ? gemm_instance.arg_mem_1_addr0;
    mem_1.content_en = invoke0_go.out ? gemm_instance.arg_mem_1_content_en;
    mem_0.write_en = invoke0_go.out ? gemm_instance.arg_mem_0_write_en;
    mem_0.addr0 = invoke0_go.out ? gemm_instance.arg_mem_0_addr0;
    mem_0.content_en = invoke0_go.out ? gemm_instance.arg_mem_0_content_en;
    mem_3.write_en = invoke0_go.out ? gemm_instance.arg_mem_3_write_en;
    mem_3.addr0 = invoke0_go.out ? gemm_instance.arg_mem_3_addr0;
    mem_3.content_en = invoke0_go.out ? gemm_instance.arg_mem_3_content_en;
    mem_3.write_data = invoke0_go.out ? gemm_instance.arg_mem_3_write_data;
    gemm_instance.arg_mem_0_read_data = invoke0_go.out ? mem_0.read_data;
    gemm_instance.arg_mem_0_done = invoke0_go.out ? mem_0.done;
    gemm_instance.arg_mem_3_read_data = invoke0_go.out ? mem_3.read_data;
    gemm_instance.in1 = invoke0_go.out ? in1;
    gemm_instance.arg_mem_1_read_data = invoke0_go.out ? mem_1.read_data;
    gemm_instance.arg_mem_3_done = invoke0_go.out ? mem_3.done;
    gemm_instance.go = invoke0_go.out ? 1'd1;
    gemm_instance.arg_mem_1_done = invoke0_go.out ? mem_1.done;
    gemm_instance.in0 = invoke0_go.out ? in0;
    invoke0_done.in = gemm_instance.done;
    mem_3.clk = clk;
    mem_2.clk = clk;
    mem_1.clk = clk;
    mem_0.clk = clk;
    gemm_instance.clk = clk;
    mem_3.reset = reset;
    mem_2.reset = reset;
    mem_1.reset = reset;
    mem_0.reset = reset;
    gemm_instance.reset = reset;
  }
  control {}
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
    @generated fsm_start = std_wire(1);
    @generated fsm_done = std_wire(1);
  }
  wires {
    fsm fsm {
      0 : {} => {
        fsm_start.out -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm_done.in = 1'd1;
      } => 0,
    }
    fsm_start.in = go;
    done = fsm_done.out ? 1'd1;
    load_0_reg.clk = clk;
    muli_3_reg.clk = clk;
    std_mult_pipe_3.clk = clk;
    muli_2_reg.clk = clk;
    std_mult_pipe_2.clk = clk;
    muli_1_reg.clk = clk;
    std_mult_pipe_1.clk = clk;
    muli_0_reg.clk = clk;
    std_mult_pipe_0.clk = clk;
    for_2_induction_var_reg.clk = clk;
    for_1_induction_var_reg.clk = clk;
    for_0_induction_var_reg.clk = clk;
    idx.clk = clk;
    cond_reg.clk = clk;
    idx0.clk = clk;
    cond_reg0.clk = clk;
    idx1.clk = clk;
    cond_reg1.clk = clk;
    load_0_reg.reset = reset;
    muli_3_reg.reset = reset;
    std_mult_pipe_3.reset = reset;
    muli_2_reg.reset = reset;
    std_mult_pipe_2.reset = reset;
    muli_1_reg.reset = reset;
    std_mult_pipe_1.reset = reset;
    muli_0_reg.reset = reset;
    std_mult_pipe_0.reset = reset;
    for_2_induction_var_reg.reset = reset;
    for_1_induction_var_reg.reset = reset;
    for_0_induction_var_reg.reset = reset;
    idx.reset = reset;
    cond_reg.reset = reset;
    idx0.reset = reset;
    cond_reg0.reset = reset;
    idx1.reset = reset;
    cond_reg1.reset = reset;
  }
  control {}
}
Current pass: merge-assigns
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
    @generated invoke0_go = std_wire(1);
    @generated invoke0_done = std_wire(1);
  }
  wires {
    done = invoke0_done.out ? 1'd1;
    mem_2.clk = clk;
    mem_2.reset = reset;
    invoke0_go.in = go;
    mem_1.write_en = invoke0_go.out ? gemm_instance.arg_mem_1_write_en;
    mem_1.clk = clk;
    mem_1.addr0 = invoke0_go.out ? gemm_instance.arg_mem_1_addr0;
    mem_1.content_en = invoke0_go.out ? gemm_instance.arg_mem_1_content_en;
    mem_1.reset = reset;
    invoke0_done.in = gemm_instance.done;
    mem_0.write_en = invoke0_go.out ? gemm_instance.arg_mem_0_write_en;
    mem_0.clk = clk;
    mem_0.addr0 = invoke0_go.out ? gemm_instance.arg_mem_0_addr0;
    mem_0.content_en = invoke0_go.out ? gemm_instance.arg_mem_0_content_en;
    mem_0.reset = reset;
    mem_3.write_en = invoke0_go.out ? gemm_instance.arg_mem_3_write_en;
    mem_3.clk = clk;
    mem_3.addr0 = invoke0_go.out ? gemm_instance.arg_mem_3_addr0;
    mem_3.content_en = invoke0_go.out ? gemm_instance.arg_mem_3_content_en;
    mem_3.reset = reset;
    mem_3.write_data = invoke0_go.out ? gemm_instance.arg_mem_3_write_data;
    gemm_instance.arg_mem_0_read_data = invoke0_go.out ? mem_0.read_data;
    gemm_instance.arg_mem_0_done = invoke0_go.out ? mem_0.done;
    gemm_instance.arg_mem_3_read_data = invoke0_go.out ? mem_3.read_data;
    gemm_instance.in1 = invoke0_go.out ? in1;
    gemm_instance.arg_mem_1_read_data = invoke0_go.out ? mem_1.read_data;
    gemm_instance.clk = clk;
    gemm_instance.arg_mem_3_done = invoke0_go.out ? mem_3.done;
    gemm_instance.reset = reset;
    gemm_instance.go = invoke0_go.out ? 1'd1;
    gemm_instance.arg_mem_1_done = invoke0_go.out ? mem_1.done;
    gemm_instance.in0 = invoke0_go.out ? in0;
  }
  control {}
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
    @generated fsm_start = std_wire(1);
    @generated fsm_done = std_wire(1);
  }
  wires {
    fsm fsm {
      0 : {} => {
        fsm_start.out -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm_done.in = 1'd1;
      } => 0,
    }
    cond_reg1.clk = clk;
    cond_reg1.reset = reset;
    done = fsm_done.out ? 1'd1;
    muli_3_reg.clk = clk;
    muli_3_reg.reset = reset;
    idx1.clk = clk;
    idx1.reset = reset;
    load_0_reg.clk = clk;
    load_0_reg.reset = reset;
    cond_reg0.clk = clk;
    cond_reg0.reset = reset;
    for_0_induction_var_reg.clk = clk;
    for_0_induction_var_reg.reset = reset;
    std_mult_pipe_3.clk = clk;
    std_mult_pipe_3.reset = reset;
    std_mult_pipe_2.clk = clk;
    std_mult_pipe_2.reset = reset;
    idx0.clk = clk;
    idx0.reset = reset;
    muli_1_reg.clk = clk;
    muli_1_reg.reset = reset;
    muli_0_reg.clk = clk;
    muli_0_reg.reset = reset;
    idx.clk = clk;
    idx.reset = reset;
    muli_2_reg.clk = clk;
    muli_2_reg.reset = reset;
    std_mult_pipe_0.clk = clk;
    std_mult_pipe_0.reset = reset;
    for_2_induction_var_reg.clk = clk;
    for_2_induction_var_reg.reset = reset;
    std_mult_pipe_1.clk = clk;
    std_mult_pipe_1.reset = reset;
    for_1_induction_var_reg.clk = clk;
    for_1_induction_var_reg.reset = reset;
    fsm_start.in = go;
    cond_reg.clk = clk;
    cond_reg.reset = reset;
  }
  control {}
}
Adding default assignment for port Port((Input) _this.arg_mem_2_addr0[10] :(data=1))
Adding default assignment for port Port((Input) _this.arg_mem_2_content_en[1] :())
Adding default assignment for port Port((Input) _this.arg_mem_2_write_en[1] :())
Adding default assignment for port Port((Input) _this.arg_mem_2_write_data[32] :(data=1))
Adding default assignment for port Port((Input) _this.arg_mem_1_write_data[32] :(data=1))
Adding default assignment for port Port((Input) _this.arg_mem_0_write_data[32] :(data=1))
Current pass: default-assigns
component main<"toplevel"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1) -> (@done done: 1) {
  cells {
    @external @data mem_3 = seq_mem_d1(32, 900, 10);
    @external @data mem_2 = seq_mem_d1(32, 900, 10);
    @external @data mem_1 = seq_mem_d1(32, 900, 10);
    @external @data mem_0 = seq_mem_d1(32, 900, 10);
    @data gemm_instance = gemm();
    @generated invoke0_go = std_wire(1);
    @generated invoke0_done = std_wire(1);
  }
  wires {
    done = invoke0_done.out ? 1'd1;
    mem_2.clk = clk;
    mem_2.reset = reset;
    invoke0_go.in = go;
    mem_1.write_en = invoke0_go.out ? gemm_instance.arg_mem_1_write_en;
    mem_1.clk = clk;
    mem_1.addr0 = invoke0_go.out ? gemm_instance.arg_mem_1_addr0;
    mem_1.content_en = invoke0_go.out ? gemm_instance.arg_mem_1_content_en;
    mem_1.reset = reset;
    invoke0_done.in = gemm_instance.done;
    mem_0.write_en = invoke0_go.out ? gemm_instance.arg_mem_0_write_en;
    mem_0.clk = clk;
    mem_0.addr0 = invoke0_go.out ? gemm_instance.arg_mem_0_addr0;
    mem_0.content_en = invoke0_go.out ? gemm_instance.arg_mem_0_content_en;
    mem_0.reset = reset;
    mem_3.write_en = invoke0_go.out ? gemm_instance.arg_mem_3_write_en;
    mem_3.clk = clk;
    mem_3.addr0 = invoke0_go.out ? gemm_instance.arg_mem_3_addr0;
    mem_3.content_en = invoke0_go.out ? gemm_instance.arg_mem_3_content_en;
    mem_3.reset = reset;
    mem_3.write_data = invoke0_go.out ? gemm_instance.arg_mem_3_write_data;
    gemm_instance.arg_mem_0_read_data = invoke0_go.out ? mem_0.read_data;
    gemm_instance.arg_mem_0_done = invoke0_go.out ? mem_0.done;
    gemm_instance.arg_mem_3_read_data = invoke0_go.out ? mem_3.read_data;
    gemm_instance.in1 = invoke0_go.out ? in1;
    gemm_instance.arg_mem_1_read_data = invoke0_go.out ? mem_1.read_data;
    gemm_instance.clk = clk;
    gemm_instance.arg_mem_3_done = invoke0_go.out ? mem_3.done;
    gemm_instance.reset = reset;
    gemm_instance.go = invoke0_go.out ? 1'd1;
    gemm_instance.arg_mem_1_done = invoke0_go.out ? mem_1.done;
    gemm_instance.in0 = invoke0_go.out ? in0;
    mem_2.content_en = 1'd0;
    mem_2.write_en = 1'd0;
  }
  control {}
}
component gemm<"state_share"=1>(in0: 32, in1: 32, @clk clk: 1, @reset reset: 1, @go go: 1, arg_mem_3_read_data: 32, arg_mem_3_done: 1, arg_mem_2_read_data: 32, arg_mem_2_done: 1, arg_mem_1_read_data: 32, arg_mem_1_done: 1, arg_mem_0_read_data: 32, arg_mem_0_done: 1) -> (@done done: 1, @data arg_mem_3_addr0: 10, arg_mem_3_content_en: 1, arg_mem_3_write_en: 1, @data arg_mem_3_write_data: 32, @data arg_mem_2_addr0: 10, arg_mem_2_content_en: 1, arg_mem_2_write_en: 1, @data arg_mem_2_write_data: 32, @data arg_mem_1_addr0: 10, arg_mem_1_content_en: 1, arg_mem_1_write_en: 1, @data arg_mem_1_write_data: 32, @data arg_mem_0_addr0: 10, arg_mem_0_content_en: 1, arg_mem_0_write_en: 1, @data arg_mem_0_write_data: 32) {
  cells {
    @data std_slice_3 = std_slice(32, 10);
    @data std_slice_2 = std_slice(32, 10);
    @data std_slice_1 = std_slice(32, 10);
    @data std_slice_0 = std_slice(32, 10);
    @data std_add_6 = std_add(32);
    @data std_add_5 = std_add(32);
    @data std_add_4 = std_add(32);
    @data std_add_3 = std_add(32);
    @data load_0_reg = std_reg(32);
    @data muli_3_reg = std_reg(32);
    @data std_mult_pipe_3 = std_mult_pipe(32);
    @data std_add_2 = std_add(32);
    @data muli_2_reg = std_reg(32);
    @data std_mult_pipe_2 = std_mult_pipe(32);
    @data muli_1_reg = std_reg(32);
    @data std_mult_pipe_1 = std_mult_pipe(32);
    @data std_add_1 = std_add(32);
    @data std_add_0 = std_add(32);
    @data muli_0_reg = std_reg(32);
    @data std_mult_pipe_0 = std_mult_pipe(32);
    @data for_2_induction_var_reg = std_reg(32);
    @data for_1_induction_var_reg = std_reg(32);
    @data for_0_induction_var_reg = std_reg(32);
    @generated idx = std_reg(5);
    @generated cond_reg = std_reg(1);
    @generated adder = std_add(5);
    @generated lt = std_lt(5);
    @generated idx0 = std_reg(5);
    @generated cond_reg0 = std_reg(1);
    @generated adder0 = std_add(5);
    @generated lt0 = std_lt(5);
    @generated idx1 = std_reg(5);
    @generated cond_reg1 = std_reg(1);
    @generated adder1 = std_add(5);
    @generated lt1 = std_lt(5);
    @generated fsm_start = std_wire(1);
    @generated fsm_done = std_wire(1);
  }
  wires {
    fsm fsm {
      0 : {} => {
        fsm_start.out -> 1,
        default -> 0,
      },
      1 : {
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = 32'd0;
      } => 2,
      2 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = 1'd1;
        idx1.write_en = 1'd1;
        idx1.in = 5'd0;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 2,
      },
      3 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = 32'd0;
      } => 4,
      4 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 5,
      5 : {
        std_mult_pipe_0.left = for_2_induction_var_reg.out;
        std_mult_pipe_0.go = 1'd1;
        std_mult_pipe_0.right = 32'd30;
      } => 6,
      6 : {
        muli_0_reg.write_en = 1'd1;
        muli_0_reg.in = std_mult_pipe_0.out;
      } => 7,
      7 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = 1'd1;
        idx0.write_en = 1'd1;
        idx0.in = 5'd0;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 7,
      },
      8 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = 32'd0;
      } => 9,
      9 : {
        idx.write_en = 1'd1;
        idx.in = 5'd0;
        cond_reg.write_en = 1'd1;
        cond_reg.in = 1'd1;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 9,
      },
      10 : {
        arg_mem_0_content_en = 1'd1;
        arg_mem_0_addr0 = std_slice_3.out;
        arg_mem_0_write_en = 1'd0;
        std_slice_3.in = std_add_1.out;
        std_add_1.left = muli_0_reg.out;
        std_add_1.right = for_0_induction_var_reg.out;
      } => 11,
      11 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 12,
      12 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 13,
      13 : {
        std_mult_pipe_2.left = for_0_induction_var_reg.out;
        std_mult_pipe_2.go = 1'd1;
        std_mult_pipe_2.right = 32'd30;
        std_mult_pipe_1.left = in0;
        std_mult_pipe_1.go = 1'd1;
        std_mult_pipe_1.right = arg_mem_0_read_data;
      } => 14,
      14 : {
        muli_1_reg.write_en = 1'd1;
        muli_1_reg.in = std_mult_pipe_1.out;
        muli_2_reg.write_en = 1'd1;
        muli_2_reg.in = std_mult_pipe_2.out;
      } => 15,
      15 : {
        arg_mem_1_write_en = 1'd0;
        arg_mem_1_addr0 = std_slice_2.out;
        arg_mem_1_content_en = 1'd1;
        std_add_2.left = muli_2_reg.out;
        std_add_2.right = for_1_induction_var_reg.out;
        std_slice_2.in = std_add_2.out;
      } => 16,
      16 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 17,
      17 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 18,
      18 : {
        std_mult_pipe_3.left = muli_1_reg.out;
        std_mult_pipe_3.go = 1'd1;
        std_mult_pipe_3.right = arg_mem_1_read_data;
      } => 19,
      19 : {
        muli_3_reg.write_en = 1'd1;
        muli_3_reg.in = std_mult_pipe_3.out;
      } => 20,
      20 : {
        arg_mem_3_addr0 = std_slice_1.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd0;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_1.in = std_add_0.out;
      } => 21,
      21 : {
        load_0_reg.write_en = 1'd1;
        load_0_reg.in = arg_mem_3_read_data;
      } => 22,
      22 : {
        arg_mem_3_addr0 = std_slice_0.out;
        arg_mem_3_write_data = std_add_3.out;
        arg_mem_3_content_en = 1'd1;
        arg_mem_3_write_en = 1'd1;
        std_add_3.left = load_0_reg.out;
        std_add_3.right = muli_3_reg.out;
        std_add_0.left = muli_0_reg.out;
        std_add_0.right = for_1_induction_var_reg.out;
        std_slice_0.in = std_add_0.out;
      } => 23,
      23 : {
        for_0_induction_var_reg.write_en = 1'd1;
        for_0_induction_var_reg.in = std_add_4.out;
        std_add_4.left = for_0_induction_var_reg.out;
        std_add_4.right = 32'd1;
      } => 24,
      24 : {
        adder.left = idx.out;
        adder.right = 5'd1;
        idx.write_en = 1'd1;
        idx.in = adder.out;
        lt.left = adder.out;
        lt.right = 5'd20;
        cond_reg.write_en = 1'd1;
        cond_reg.in = lt.out;
      } => {
        cond_reg.done & idx.done & cond_reg.out -> 10,
        cond_reg.done & idx.done & !cond_reg.out -> 25,
        default -> 24,
      },
      25 : {
        std_add_5.left = for_1_induction_var_reg.out;
        std_add_5.right = 32'd1;
        for_1_induction_var_reg.write_en = 1'd1;
        for_1_induction_var_reg.in = std_add_5.out;
      } => 26,
      26 : {
        cond_reg0.write_en = 1'd1;
        cond_reg0.in = lt0.out;
        idx0.write_en = 1'd1;
        idx0.in = adder0.out;
        adder0.left = idx0.out;
        adder0.right = 5'd1;
        lt0.left = adder0.out;
        lt0.right = 5'd20;
      } => {
        cond_reg0.done & idx0.done & cond_reg0.out -> 8,
        cond_reg0.done & idx0.done & !cond_reg0.out -> 27,
        default -> 26,
      },
      27 : {
        std_add_6.left = for_2_induction_var_reg.out;
        std_add_6.right = 32'd1;
        for_2_induction_var_reg.write_en = 1'd1;
        for_2_induction_var_reg.in = std_add_6.out;
      } => 28,
      28 : {
        cond_reg1.write_en = 1'd1;
        cond_reg1.in = lt1.out;
        adder1.left = idx1.out;
        adder1.right = 5'd1;
        idx1.write_en = 1'd1;
        idx1.in = adder1.out;
        lt1.left = adder1.out;
        lt1.right = 5'd20;
      } => {
        cond_reg1.done & idx1.done & cond_reg1.out -> 3,
        cond_reg1.done & idx1.done & !cond_reg1.out -> 29,
        default -> 28,
      },
      29 : {
        fsm_done.in = 1'd1;
      } => 0,
    }
    cond_reg1.clk = clk;
    cond_reg1.reset = reset;
    done = fsm_done.out ? 1'd1;
    muli_3_reg.clk = clk;
    muli_3_reg.reset = reset;
    idx1.clk = clk;
    idx1.reset = reset;
    load_0_reg.clk = clk;
    load_0_reg.reset = reset;
    cond_reg0.clk = clk;
    cond_reg0.reset = reset;
    for_0_induction_var_reg.clk = clk;
    for_0_induction_var_reg.reset = reset;
    std_mult_pipe_3.clk = clk;
    std_mult_pipe_3.reset = reset;
    std_mult_pipe_2.clk = clk;
    std_mult_pipe_2.reset = reset;
    idx0.clk = clk;
    idx0.reset = reset;
    muli_1_reg.clk = clk;
    muli_1_reg.reset = reset;
    muli_0_reg.clk = clk;
    muli_0_reg.reset = reset;
    idx.clk = clk;
    idx.reset = reset;
    muli_2_reg.clk = clk;
    muli_2_reg.reset = reset;
    std_mult_pipe_0.clk = clk;
    std_mult_pipe_0.reset = reset;
    for_2_induction_var_reg.clk = clk;
    for_2_induction_var_reg.reset = reset;
    std_mult_pipe_1.clk = clk;
    std_mult_pipe_1.reset = reset;
    for_1_induction_var_reg.clk = clk;
    for_1_induction_var_reg.reset = reset;
    fsm_start.in = go;
    cond_reg.clk = clk;
    cond_reg.reset = reset;
    arg_mem_2_addr0 = 10'd0;
    arg_mem_2_content_en = 1'd0;
    arg_mem_2_write_en = 1'd0;
    arg_mem_2_write_data = 32'd0;
    arg_mem_1_write_data = 32'd0;
    arg_mem_0_write_data = 32'd0;
  }
  control {}
}
